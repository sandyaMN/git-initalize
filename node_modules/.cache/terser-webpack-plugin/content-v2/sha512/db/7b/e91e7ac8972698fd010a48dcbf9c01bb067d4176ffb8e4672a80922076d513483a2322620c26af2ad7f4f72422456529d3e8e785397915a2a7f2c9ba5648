{"map":"{\"version\":3,\"sources\":[\"/home/sandya/Sandya/workspace/Brandon/home-assistant-polymer/src/util/custom-panel/load-custom-panel.ts\",\"/home/sandya/Sandya/workspace/Brandon/home-assistant-polymer/src/util/custom-panel/create-custom-panel-element.ts\",\"/home/sandya/Sandya/workspace/Brandon/home-assistant-polymer/src/util/custom-panel/set-custom-panel-properties.ts\",\"/home/sandya/Sandya/workspace/Brandon/home-assistant-polymer/src/panels/custom/ha-panel-custom.ts\",\"/home/sandya/Sandya/workspace/Brandon/home-assistant-polymer/src/common/dom/load_resource.ts\"],\"names\":[\"__webpack_require__\",\"d\",\"__webpack_exports__\",\"loadCustomPanel\",\"_common_dom_load_resource__WEBPACK_IMPORTED_MODULE_0__\",\"JS_CACHE\",\"panelConfig\",\"html_url\",\"toLoad\",\"e\",\"then\",\"bind\",\"embed_iframe\",\"push\",\"Promise\",\"all\",\"importHrefPromise\",\"js_url\",\"loadJS\",\"module_url\",\"loadModule\",\"reject\",\"createCustomPanelElement\",\"tagName\",\"name\",\"document\",\"createElement\",\"setCustomPanelProperties\",\"root\",\"properties\",\"setProperties\",\"Object\",\"keys\",\"forEach\",\"key\",\"HaPanelCustom\",\"_decorate\",\"_initialize\",\"_UpdatingElement\",\"[object Object]\",\"args\",\"super\",\"this\",\"F\",\"kind\",\"decorators\",\"property\",\"value\",\"path\",\"replace\",\"navigate\",\"initialize\",\"panel\",\"hass\",\"narrow\",\"route\",\"_setProperties\",\"_get\",\"_getPrototypeOf\",\"prototype\",\"call\",\"_cleanupPanel\",\"changedProps\",\"has\",\"get\",\"_createPanel\",\"props\",\"window\",\"customPanel\",\"undefined\",\"lastChild\",\"removeChild\",\"config\",\"_panel_custom\",\"tempA\",\"href\",\"trust_external\",\"location\",\"hostname\",\"includes\",\"confirm\",\"localize\",\"element\",\"appendChild\",\"alert\",\"innerHTML\",\"trim\",\"iframeDoc\",\"querySelector\",\"contentWindow\",\"open\",\"write\",\"customPanelJS\",\"close\",\"UpdatingElement\",\"customElements\",\"define\",\"loadCSS\",\"_load\",\"tag\",\"url\",\"type\",\"resolve\",\"attr\",\"parent\",\"onload\",\"onerror\",\"async\",\"rel\"],\"mappings\":\"wFAAAA,EAAAC,EAAAC,EAAA,IAAA,WAAA,OAAAC,IAAA,IAAAC,EAAAJ,EAAA,IAGA,MAAMK,EAAW,GAEJF,EAAmBG,IAC9B,GAAIA,EAAYC,SAAU,CACxB,MAAMC,EAAS,CACbR,EAAAS,EAAA,IAAAC,KAAAV,EAAAW,KAAA,KAAA,OAWF,OANKL,EAAYM,cACfJ,EAAOK,KACLC,QAAAC,IAAA,CAAAf,EAAAS,EAAA,KAAAT,EAAAS,EAAA,MAAAC,KAAAV,EAAAW,KAAA,KAAA,OAIGG,QAAQC,IAAIP,GAAQE,KAAK,GAAIM,kBAAAA,MAClCA,EAAkBV,EAAYC,WAGlC,OAAID,EAAYW,QACRX,EAAYW,UAAUZ,IAC1BA,EAASC,EAAYW,QAAUC,OAAAA,EAAAA,EAAAA,CAAOZ,EAAYW,SAE7CZ,EAASC,EAAYW,SAE1BX,EAAYa,WACPC,OAAAA,EAAAA,EAAAA,CAAWd,EAAYa,YAEzBL,QAAQO,OAAO,0EChCxBrB,EAAAC,EAAAC,EAAA,IAAA,WAAA,OAAAoB,IAAO,MAAMA,EAA4BhB,IAEvC,MAAMiB,EACJ,aAAcjB,cACEA,EAAYkB,OACxBlB,EAAYkB,KAClB,OAAOC,SAASC,cAAcH,sCCNhCvB,EAAAC,EAAAC,EAAA,IAAA,WAAA,OAAAyB,IAAO,MAAMA,EAA2B,CAACC,EAAMC,KACzC,kBAAmBD,EACrBA,EAAKE,cAAcD,GAEnBE,OAAOC,KAAKH,GAAYI,QAASC,IAC/BN,EAAKM,GAAOL,EAAWK,svDCStB,IAAMC,80LAAbC,CAAA,KAAA,SAAAC,EAAAC,GAAO,MAAMH,UAANG,EAA4CC,eAAAC,GAAAC,SAAAD,GAAAH,EAAAK,OAAnD,MAAA,CAAAC,EAAaR,EAAblC,EAAA,CAAA,CAAA2C,KAAA,QAAAC,WAAA,CACGC,OAAAA,EAAAA,EAAAA,IADHZ,IAAA,OAAAa,WAAA,GAAA,CAAAH,KAAA,QAAAC,WAAA,CAEGC,OAAAA,EAAAA,EAAAA,IAFHZ,IAAA,SAAAa,WAAA,GAAA,CAAAH,KAAA,QAAAC,WAAA,CAGGC,OAAAA,EAAAA,EAAAA,IAHHZ,IAAA,QAAAa,WAAA,GAAA,CAAAH,KAAA,QAAAC,WAAA,CAIGC,OAAAA,EAAAA,EAAAA,IAJHZ,IAAA,QAAAa,WAAA,GAAA,CAAAH,KAAA,QAAAV,IAAA,iBAAAa,WAAA,GAAA,CAAAH,KAAA,QAAAV,IAAA,WAAAK,QAAA,MAUoB,CAACS,EAAcC,IAC/BC,OAAAA,EAAAA,EAAAA,CAASR,KAAMM,EAAMC,KAXzB,CAAAL,KAAA,SAAAV,IAAA,iBAAAa,MAaE,SAAsBI,EAAYrB,GAChCqB,EAAWT,KAAKU,MAAO,CACrBC,KAAMX,KAAKW,KACXC,OAAQZ,KAAKY,OACbC,MAAOb,KAAKa,QAEdb,KAAKc,eAAiB1B,IAnB1B,CAAAc,KAAA,SAAAV,IAAA,uBAAAa,MAsBE,WACEU,EAAAC,EAvBSvB,EAuBTwB,WAAA,uBAAAjB,MAAAkB,KAAAlB,MACAA,KAAKmB,kBAxBT,CAAAjB,KAAA,SAAAV,IAAA,UAAAa,MA2BE,SAAkBe,GAChB,GAAIA,EAAaC,IAAI,SAMnB,OAJID,EAAaE,IAAI,UACnBtB,KAAKmB,qBAEPnB,KAAKuB,aAAavB,KAAKU,OAGzB,IAAKV,KAAKc,eACR,OAEF,MAAMU,EAAQ,GAEd,IAAK,MAAMhC,KAAO4B,EAAa9B,OAC7BkC,EAAMhC,GAAOQ,KAAKR,GAEpBQ,KAAKc,eAAeU,KA5CxB,CAAAtB,KAAA,SAAAV,IAAA,gBAAAa,MA+CE,WAGE,WAFOoB,OAAOC,YACd1B,KAAKc,oBAAiBa,EACf3B,KAAK4B,WACV5B,KAAK6B,YAAY7B,KAAK4B,aAnD5B,CAAA1B,KAAA,SAAAV,IAAA,eAAAa,MAuDE,SAAqBK,GACnB,MAAMoB,EAASpB,EAAMoB,OAAQC,cAEvBC,EAAQjD,SAASC,cAAc,KAGrC,GAFAgD,EAAMC,KAAOH,EAAOjE,UAAYiE,EAAOvD,QAAUuD,EAAOrD,YAAc,IAGnEqD,EAAOI,iBACP,CAAC,YAAa,YAAaC,SAASC,UAAUC,SAASL,EAAMI,YAG3DE,WACItC,KAAKW,KAAK4B,SACX,gDACA,OACAT,EAAOhD,KACP,OACAkD,EAAMC,uBAGLjC,KAAKW,KAAK4B,SACV,oEAGCvC,KAAKW,KAAK4B,SACX,mDAIL,OAIJ,IAAKT,EAAO5D,aAkBV,YAjBAT,OAAAA,EAAAA,EAAAA,CAAgBqE,GAAQ9D,KACtB,KACE,MAAMwE,EAAU5D,OAAAA,EAAAA,EAAAA,CAAyBkD,GACzC9B,KAAKc,eAAkBU,CAAAA,GACrBvC,OAAAA,EAAAA,EAAAA,CAAyBuD,EAAShB,IACpCvC,OAAAA,EAAAA,EAAAA,CAAyBuD,EAAS,CAChC9B,MAAAA,EACAC,KAAMX,KAAKW,KACXC,OAAQZ,KAAKY,OACbC,MAAOb,KAAKa,QAEdb,KAAKyC,YAAYD,IAEnB,KACEE,0CAA0CV,EAAMC,UAMtDR,OAAOC,YAAc1B,KACrBA,KAAK2C,UAAa,0OAWhBC,OACF,MAAMC,EAAY7C,KAAK8C,cAAc,UAAWC,cAAehE,SAC/D8D,EAAUG,OACVH,EAAUI,qCACuBxB,OAAOyB,6BAExCL,EAAUM,aA/HqBC,EAAAA,GAmInCC,eAAeC,OAAO,kBAAmB7D,oCCjJzCnC,EAAAC,EAAAC,EAAA,IAAA,WAAA,OAAA+F,IAAAjG,EAAAC,EAAAC,EAAA,IAAA,WAAA,OAAAgB,IAAAlB,EAAAC,EAAAC,EAAA,IAAA,WAAA,OAAAkB,IAGA,MAAM8E,EAAQ,CACZC,EACAC,EACAC,IAGO,IAAIvF,QAAQ,CAACwF,EAASjF,KAC3B,MAAM6D,EAAUzD,SAASC,cAAcyE,GACvC,IAAII,EAAO,MACPC,EAAS,OAOb,OAJAtB,EAAQuB,OAAS,KAAMH,EAAQF,IAC/BlB,EAAQwB,QAAU,KAAMrF,EAAO+E,IAGvBD,GACN,IAAK,SACFjB,EAA8ByB,OAAQ,EACnCN,IACDnB,EAA8BmB,KAAOA,GAExC,MACF,IAAK,OACFnB,EAA4BmB,KAAO,WACnCnB,EAA4B0B,IAAM,aACnCL,EAAO,OACPC,EAAS,OAIbtB,EAAQqB,GAAQH,EAChB3E,SAAS+E,GAAQrB,YAAYD,KAIpBe,EAAWG,GAAgBF,EAAM,OAAQE,GACzClF,EAAUkF,GAAgBF,EAAM,SAAUE,GAE1ChF,EAAcgF,GAAgBF,EAAM,SAAUE,EAAK\",\"sourcesContent\":[\"import { loadJS, loadModule } from \\\"../../common/dom/load_resource\\\";\\n\\n// Make sure we only import every JS-based panel once (HTML import has this built-in)\\nconst JS_CACHE = {};\\n\\nexport const loadCustomPanel = (panelConfig): Promise<unknown> => {\\n  if (panelConfig.html_url) {\\n    const toLoad = [\\n      import(\\n        /* webpackChunkName: \\\"import-href-polyfill\\\" */ \\\"../../resources/html-import/import-href\\\"\\n      ),\\n    ];\\n\\n    if (!panelConfig.embed_iframe) {\\n      toLoad.push(\\n        import(/* webpackChunkName: \\\"legacy-support\\\" */ \\\"../legacy-support\\\")\\n      );\\n    }\\n\\n    return Promise.all(toLoad).then(([{ importHrefPromise }]) =>\\n      importHrefPromise(panelConfig.html_url)\\n    );\\n  }\\n  if (panelConfig.js_url) {\\n    if (!(panelConfig.js_url in JS_CACHE)) {\\n      JS_CACHE[panelConfig.js_url] = loadJS(panelConfig.js_url);\\n    }\\n    return JS_CACHE[panelConfig.js_url];\\n  }\\n  if (panelConfig.module_url) {\\n    return loadModule(panelConfig.module_url);\\n  }\\n  return Promise.reject(\\\"No valid url found in panel config.\\\");\\n};\\n\",\"export const createCustomPanelElement = (panelConfig) => {\\n  // Legacy support. Custom panels used to have to define element ha-panel-{name}\\n  const tagName =\\n    \\\"html_url\\\" in panelConfig\\n      ? `ha-panel-${panelConfig.name}`\\n      : panelConfig.name;\\n  return document.createElement(tagName);\\n};\\n\",\"export const setCustomPanelProperties = (root, properties) => {\\n  if (\\\"setProperties\\\" in root) {\\n    root.setProperties(properties);\\n  } else {\\n    Object.keys(properties).forEach((key) => {\\n      root[key] = properties[key];\\n    });\\n  }\\n};\\n\",\"import { property, PropertyValues, UpdatingElement } from \\\"lit-element\\\";\\nimport { loadCustomPanel } from \\\"../../util/custom-panel/load-custom-panel\\\";\\nimport { createCustomPanelElement } from \\\"../../util/custom-panel/create-custom-panel-element\\\";\\nimport { setCustomPanelProperties } from \\\"../../util/custom-panel/set-custom-panel-properties\\\";\\nimport { HomeAssistant, Route } from \\\"../../types\\\";\\nimport { CustomPanelInfo } from \\\"../../data/panel_custom\\\";\\nimport { navigate } from \\\"../../common/navigate\\\";\\n\\ndeclare global {\\n  interface Window {\\n    customPanel: HaPanelCustom | undefined;\\n  }\\n}\\n\\nexport class HaPanelCustom extends UpdatingElement {\\n  @property() public hass!: HomeAssistant;\\n  @property() public narrow!: boolean;\\n  @property() public route!: Route;\\n  @property() public panel!: CustomPanelInfo;\\n  private _setProperties?: (props: {}) => void | undefined;\\n\\n  // Since navigate fires events on `window`, we need to expose this as a function\\n  // to allow custom panels to forward their location changes to the main window\\n  // instead of their iframe window.\\n  public navigate = (path: string, replace?: boolean) =>\\n    navigate(this, path, replace);\\n\\n  public registerIframe(initialize, setProperties) {\\n    initialize(this.panel, {\\n      hass: this.hass,\\n      narrow: this.narrow,\\n      route: this.route,\\n    });\\n    this._setProperties = setProperties;\\n  }\\n\\n  public disconnectedCallback() {\\n    super.disconnectedCallback();\\n    this._cleanupPanel();\\n  }\\n\\n  protected updated(changedProps: PropertyValues) {\\n    if (changedProps.has(\\\"panel\\\")) {\\n      // Clean up old things if we had a panel\\n      if (changedProps.get(\\\"panel\\\")) {\\n        this._cleanupPanel();\\n      }\\n      this._createPanel(this.panel);\\n      return;\\n    }\\n    if (!this._setProperties) {\\n      return;\\n    }\\n    const props = {};\\n    // @ts-ignore\\n    for (const key of changedProps.keys()) {\\n      props[key] = this[key];\\n    }\\n    this._setProperties(props);\\n  }\\n\\n  private _cleanupPanel() {\\n    delete window.customPanel;\\n    this._setProperties = undefined;\\n    while (this.lastChild) {\\n      this.removeChild(this.lastChild);\\n    }\\n  }\\n\\n  private _createPanel(panel: CustomPanelInfo) {\\n    const config = panel.config!._panel_custom;\\n\\n    const tempA = document.createElement(\\\"a\\\");\\n    tempA.href = config.html_url || config.js_url || config.module_url || \\\"\\\";\\n\\n    if (\\n      !config.trust_external &&\\n      ![\\\"localhost\\\", \\\"127.0.0.1\\\", location.hostname].includes(tempA.hostname)\\n    ) {\\n      if (\\n        !confirm(\\n          `${this.hass.localize(\\n            \\\"ui.panel.custom.external_panel.question_trust\\\",\\n            \\\"name\\\",\\n            config.name,\\n            \\\"link\\\",\\n            tempA.href\\n          )}\\n\\n           ${this.hass.localize(\\n             \\\"ui.panel.custom.external_panel.complete_access\\\"\\n           )}\\n\\n           (${this.hass.localize(\\n             \\\"ui.panel.custom.external_panel.hide_message\\\"\\n           )})`\\n        )\\n      ) {\\n        return;\\n      }\\n    }\\n\\n    if (!config.embed_iframe) {\\n      loadCustomPanel(config).then(\\n        () => {\\n          const element = createCustomPanelElement(config);\\n          this._setProperties = (props) =>\\n            setCustomPanelProperties(element, props);\\n          setCustomPanelProperties(element, {\\n            panel,\\n            hass: this.hass,\\n            narrow: this.narrow,\\n            route: this.route,\\n          });\\n          this.appendChild(element);\\n        },\\n        () => {\\n          alert(`Unable to load custom panel from ${tempA.href}`);\\n        }\\n      );\\n      return;\\n    }\\n\\n    window.customPanel = this;\\n    this.innerHTML = `\\n    <style>\\n      iframe {\\n        border: 0;\\n        width: 100%;\\n        height: 100%;\\n        display: block;\\n        background-color: var(--primary-background-color);\\n      }\\n    </style>\\n    <iframe></iframe>\\n    `.trim();\\n    const iframeDoc = this.querySelector(\\\"iframe\\\")!.contentWindow!.document;\\n    iframeDoc.open();\\n    iframeDoc.write(\\n      `<!doctype html><script src='${window.customPanelJS}'></script>`\\n    );\\n    iframeDoc.close();\\n  }\\n}\\n\\ncustomElements.define(\\\"ha-panel-custom\\\", HaPanelCustom);\\n\",\"// Load a resource and get a promise when loading done.\\n// From: https://davidwalsh.name/javascript-loader\\n\\nconst _load = (\\n  tag: \\\"link\\\" | \\\"script\\\" | \\\"img\\\",\\n  url: string,\\n  type?: \\\"module\\\"\\n) => {\\n  // This promise will be used by Promise.all to determine success or failure\\n  return new Promise((resolve, reject) => {\\n    const element = document.createElement(tag);\\n    let attr = \\\"src\\\";\\n    let parent = \\\"body\\\";\\n\\n    // Important success and error for the promise\\n    element.onload = () => resolve(url);\\n    element.onerror = () => reject(url);\\n\\n    // Need to set different attributes depending on tag type\\n    switch (tag) {\\n      case \\\"script\\\":\\n        (element as HTMLScriptElement).async = true;\\n        if (type) {\\n          (element as HTMLScriptElement).type = type;\\n        }\\n        break;\\n      case \\\"link\\\":\\n        (element as HTMLLinkElement).type = \\\"text/css\\\";\\n        (element as HTMLLinkElement).rel = \\\"stylesheet\\\";\\n        attr = \\\"href\\\";\\n        parent = \\\"head\\\";\\n    }\\n\\n    // Inject into document to kick off loading\\n    element[attr] = url;\\n    document[parent].appendChild(element);\\n  });\\n};\\n\\nexport const loadCSS = (url: string) => _load(\\\"link\\\", url);\\nexport const loadJS = (url: string) => _load(\\\"script\\\", url);\\nexport const loadImg = (url: string) => _load(\\\"img\\\", url);\\nexport const loadModule = (url: string) => _load(\\\"script\\\", url, \\\"module\\\");\\n\"]}","code":"(self.webpackJsonp=self.webpackJsonp||[]).push([[104],{136:function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return o});var n=r(90);const i={},o=e=>{if(e.html_url){const t=[r.e(76).then(r.bind(null,169))];return e.embed_iframe||t.push(Promise.all([r.e(139),r.e(77)]).then(r.bind(null,132))),Promise.all(t).then(([{importHrefPromise:t}])=>t(e.html_url))}return e.js_url?(e.js_url in i||(i[e.js_url]=Object(n.b)(e.js_url)),i[e.js_url]):e.module_url?Object(n.c)(e.module_url):Promise.reject(\"No valid url found in panel config.\")}},137:function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return n});const n=e=>{const t=\"html_url\"in e?`ha-panel-${e.name}`:e.name;return document.createElement(t)}},138:function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return n});const n=(e,t)=>{\"setProperties\"in e?e.setProperties(t):Object.keys(t).forEach(r=>{e[r]=t[r]})}},682:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"HaPanelCustom\",function(){return y});var n=r(0),i=r(136),o=r(137),s=r(138),a=r(96);function l(e){var t,r=f(e.key);\"method\"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:\"get\"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:\"set\"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:\"field\"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var n={kind:\"field\"===e.kind?\"field\":\"method\",key:r,placement:e.static?\"static\":\"field\"===e.kind?\"own\":\"prototype\",descriptor:t};return e.decorators&&(n.decorators=e.decorators),\"field\"===e.kind&&(n.initializer=e.value),n}function c(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function d(e){return e.decorators&&e.decorators.length}function u(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function p(e,t){var r=e[t];if(void 0!==r&&\"function\"!=typeof r)throw new TypeError(\"Expected '\"+t+\"' to be a function\");return r}function f(e){var t=function(e,t){if(\"object\"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||\"default\");if(\"object\"!=typeof n)return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"==typeof t?t:String(t)}function h(e,t,r){return(h=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(n){var i=Object.getOwnPropertyDescriptor(n,t);return i.get?i.get.call(r):i.value}})(e,t,r||e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}let y=function(e,t,r,n){var i=function(){var e={elementsDefinitionOrder:[[\"method\"],[\"field\"]],initializeInstanceElements:function(e,t){[\"method\",\"field\"].forEach(function(r){t.forEach(function(t){t.kind===r&&\"own\"===t.placement&&this.defineClassElement(e,t)},this)},this)},initializeClassElements:function(e,t){var r=e.prototype;[\"method\",\"field\"].forEach(function(n){t.forEach(function(t){var i=t.placement;if(t.kind===n&&(\"static\"===i||\"prototype\"===i)){var o=\"static\"===i?e:r;this.defineClassElement(o,t)}},this)},this)},defineClassElement:function(e,t){var r=t.descriptor;if(\"field\"===t.kind){var n=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===n?void 0:n.call(e)}}Object.defineProperty(e,t.key,r)},decorateClass:function(e,t){var r=[],n=[],i={static:[],prototype:[],own:[]};if(e.forEach(function(e){this.addElementPlacement(e,i)},this),e.forEach(function(e){if(!d(e))return r.push(e);var t=this.decorateElement(e,i);r.push(t.element),r.push.apply(r,t.extras),n.push.apply(n,t.finishers)},this),!t)return{elements:r,finishers:n};var o=this.decorateConstructor(r,t);return n.push.apply(n,o.finishers),o.finishers=n,o},addElementPlacement:function(e,t,r){var n=t[e.placement];if(!r&&-1!==n.indexOf(e.key))throw new TypeError(\"Duplicated element (\"+e.key+\")\");n.push(e.key)},decorateElement:function(e,t){for(var r=[],n=[],i=e.decorators,o=i.length-1;o>=0;o--){var s=t[e.placement];s.splice(s.indexOf(e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,i[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&n.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:n,extras:r}},decorateConstructor:function(e,t){for(var r=[],n=t.length-1;n>=0;n--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[n])(i)||i);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError(\"Duplicated element (\"+e[s].key+\")\")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:\"Descriptor\",configurable:!0}),\"field\"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()).map(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,\"finisher\",\"An element descriptor\"),this.disallowProperty(e,\"extras\",\"An element descriptor\"),t},this)},toElementDescriptor:function(e){var t=String(e.kind);if(\"method\"!==t&&\"field\"!==t)throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or \"field\", but a decorator created an element descriptor with .kind \"'+t+'\"');var r=f(e.key),n=String(e.placement);if(\"static\"!==n&&\"prototype\"!==n&&\"own\"!==n)throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\", \"prototype\" or \"own\", but a decorator created an element descriptor with .placement \"'+n+'\"');var i=e.descriptor;this.disallowProperty(e,\"elements\",\"An element descriptor\");var o={kind:t,key:r,placement:n,descriptor:Object.assign({},i)};return\"field\"!==t?this.disallowProperty(e,\"initializer\",\"A method descriptor\"):(this.disallowProperty(i,\"get\",\"The property descriptor of a field descriptor\"),this.disallowProperty(i,\"set\",\"The property descriptor of a field descriptor\"),this.disallowProperty(i,\"value\",\"The property descriptor of a field descriptor\"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){var t=this.toElementDescriptor(e),r=p(e,\"finisher\"),n=this.toElementDescriptors(e.extras);return{element:t,finisher:r,extras:n}},fromClassDescriptor:function(e){var t={kind:\"class\",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:\"Descriptor\",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if(\"class\"!==t)throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator created a class descriptor with .kind \"'+t+'\"');this.disallowProperty(e,\"key\",\"A class descriptor\"),this.disallowProperty(e,\"placement\",\"A class descriptor\"),this.disallowProperty(e,\"descriptor\",\"A class descriptor\"),this.disallowProperty(e,\"initializer\",\"A class descriptor\"),this.disallowProperty(e,\"extras\",\"A class descriptor\");var r=p(e,\"finisher\"),n=this.toElementDescriptors(e.elements);return{elements:n,finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var n=(0,t[r])(e);if(void 0!==n){if(\"function\"!=typeof n)throw new TypeError(\"Finishers must return a constructor.\");e=n}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+\" can't have a .\"+t+\" property.\")}};return e}();if(n)for(var o=0;o<n.length;o++)i=n[o](i);var s=t(function(e){i.initializeInstanceElements(e,a.elements)},r),a=i.decorateClass(function(e){for(var t=[],r=function(e){return\"method\"===e.kind&&e.key===o.key&&e.placement===o.placement},n=0;n<e.length;n++){var i,o=e[n];if(\"method\"===o.kind&&(i=t.find(r)))if(u(o.descriptor)||u(i.descriptor)){if(d(o)||d(i))throw new ReferenceError(\"Duplicated methods (\"+o.key+\") can't be decorated.\");i.descriptor=o.descriptor}else{if(d(o)){if(d(i))throw new ReferenceError(\"Decorators can't be placed on different accessors with for the same property (\"+o.key+\").\");i.decorators=o.decorators}c(o,i)}else t.push(o)}return t}(s.d.map(l)),e);return i.initializeClassElements(s.F,a.elements),i.runClassFinishers(s.F,a.finishers)}(null,function(e,t){class r extends t{constructor(...t){super(...t),e(this)}}return{F:r,d:[{kind:\"field\",decorators:[Object(n.g)()],key:\"hass\",value:void 0},{kind:\"field\",decorators:[Object(n.g)()],key:\"narrow\",value:void 0},{kind:\"field\",decorators:[Object(n.g)()],key:\"route\",value:void 0},{kind:\"field\",decorators:[Object(n.g)()],key:\"panel\",value:void 0},{kind:\"field\",key:\"_setProperties\",value:void 0},{kind:\"field\",key:\"navigate\",value(){return(e,t)=>Object(a.a)(this,e,t)}},{kind:\"method\",key:\"registerIframe\",value:function(e,t){e(this.panel,{hass:this.hass,narrow:this.narrow,route:this.route}),this._setProperties=t}},{kind:\"method\",key:\"disconnectedCallback\",value:function(){h(m(r.prototype),\"disconnectedCallback\",this).call(this),this._cleanupPanel()}},{kind:\"method\",key:\"updated\",value:function(e){if(e.has(\"panel\"))return e.get(\"panel\")&&this._cleanupPanel(),void this._createPanel(this.panel);if(!this._setProperties)return;const t={};for(const r of e.keys())t[r]=this[r];this._setProperties(t)}},{kind:\"method\",key:\"_cleanupPanel\",value:function(){for(delete window.customPanel,this._setProperties=void 0;this.lastChild;)this.removeChild(this.lastChild)}},{kind:\"method\",key:\"_createPanel\",value:function(e){const t=e.config._panel_custom,r=document.createElement(\"a\");if(r.href=t.html_url||t.js_url||t.module_url||\"\",!t.trust_external&&![\"localhost\",\"127.0.0.1\",location.hostname].includes(r.hostname)&&!confirm(`${this.hass.localize(\"ui.panel.custom.external_panel.question_trust\",\"name\",t.name,\"link\",r.href)}\\n\\n           ${this.hass.localize(\"ui.panel.custom.external_panel.complete_access\")}\\n\\n           (${this.hass.localize(\"ui.panel.custom.external_panel.hide_message\")})`))return;if(!t.embed_iframe)return void Object(i.a)(t).then(()=>{const r=Object(o.a)(t);this._setProperties=(e=>Object(s.a)(r,e)),Object(s.a)(r,{panel:e,hass:this.hass,narrow:this.narrow,route:this.route}),this.appendChild(r)},()=>{alert(`Unable to load custom panel from ${r.href}`)});window.customPanel=this,this.innerHTML=\"\\n    <style>\\n      iframe {\\n        border: 0;\\n        width: 100%;\\n        height: 100%;\\n        display: block;\\n        background-color: var(--primary-background-color);\\n      }\\n    </style>\\n    <iframe></iframe>\\n    \".trim();const n=this.querySelector(\"iframe\").contentWindow.document;n.open(),n.write(`<!doctype html><script src='${window.customPanelJS}'><\\/script>`),n.close()}}]}},n.b);customElements.define(\"ha-panel-custom\",y)},90:function(e,t,r){\"use strict\";r.d(t,\"a\",function(){return i}),r.d(t,\"b\",function(){return o}),r.d(t,\"c\",function(){return s});const n=(e,t,r)=>new Promise((n,i)=>{const o=document.createElement(e);let s=\"src\",a=\"body\";switch(o.onload=(()=>n(t)),o.onerror=(()=>i(t)),e){case\"script\":o.async=!0,r&&(o.type=r);break;case\"link\":o.type=\"text/css\",o.rel=\"stylesheet\",s=\"href\",a=\"head\"}o[s]=t,document[a].appendChild(o)}),i=e=>n(\"link\",e),o=e=>n(\"script\",e),s=e=>n(\"script\",e,\"module\")}}]);","extractedComments":[]}