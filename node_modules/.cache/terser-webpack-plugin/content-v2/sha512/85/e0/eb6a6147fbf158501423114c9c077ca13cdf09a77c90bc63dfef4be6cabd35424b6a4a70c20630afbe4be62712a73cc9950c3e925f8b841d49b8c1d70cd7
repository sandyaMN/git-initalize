{"map":"{\"version\":3,\"sources\":[\"/home/sandya/Sandya/workspace/Brandon/home-assistant-polymer/src/common/dom/setup-leaflet-map.ts\",\"/home/sandya/Sandya/workspace/Brandon/home-assistant-polymer/src/data/core.ts\",\"/home/sandya/Sandya/workspace/Brandon/home-assistant-polymer/src/components/timezone-datalist.ts\",\"/home/sandya/Sandya/workspace/Brandon/home-assistant-polymer/src/components/map/ha-location-editor.ts\",\"/home/sandya/Sandya/workspace/Brandon/home-assistant-polymer/src/onboarding/onboarding-core-config.ts\"],\"names\":[\"__webpack_require__\",\"d\",\"__webpack_exports__\",\"setupLeafletMap\",\"createTileLayer\",\"mapElement\",\"darkMode\",\"Leaflet\",\"map\",\"style\",\"_args\",\"arguments\",\"regeneratorRuntime\",\"async\",\"_context\",\"prev\",\"next\",\"length\",\"undefined\",\"parentNode\",\"Error\",\"awrap\",\"e\",\"then\",\"t\",\"bind\",\"sent\",\"Icon\",\"Default\",\"imagePath\",\"document\",\"createElement\",\"setAttribute\",\"appendChild\",\"setView\",\"addTo\",\"abrupt\",\"stop\",\"leaflet\",\"tileLayer\",\"concat\",\"Browser\",\"retina\",\"attribution\",\"subdomains\",\"minZoom\",\"maxZoom\",\"saveCoreConfig\",\"detectCoreConfig\",\"hass\",\"values\",\"callWS\",\"Object\",\"assign\",\"type\",\"createTimezoneListEl\",\"google_timezones_json__WEBPACK_IMPORTED_MODULE_0__\",\"google_timezones_json__WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"list\",\"id\",\"keys\",\"timezones\",\"forEach\",\"key\",\"option\",\"value\",\"innerHTML\",\"customElement\",\"LocationEditor\",\"property\",\"this\",\"_leafletMap\",\"location\",\"fitZoom\",\"html\",\"_templateObject\",\"changedProps\",\"_get\",\"_getPrototypeOf\",\"prototype\",\"call\",\"_initMap\",\"_updateMarker\",\"_ignoreFitToMap\",\"fitMap\",\"shadowRoot\",\"querySelector\",\"_ref\",\"_ref2\",\"_this2\",\"_mapEl\",\"_slicedToArray\",\"addEventListener\",\"ev\",\"_updateLocation\",\"latlng\",\"invalidateSize\",\"longitude\",\"lng\",\"Math\",\"abs\",\"lat\",\"fireEvent\",\"bubbles\",\"_this3\",\"_locationMarker\",\"setLatLng\",\"marker\",\"draggable\",\"target\",\"getLatLng\",\"addLayer\",\"remove\",\"css\",\"_templateObject2\",\"LitElement\",\"amsterdam\",\"OnboardingCoreConfig\",\"onboardingLocalize\",\"user\",\"name\",\"_working\",\"_nameValue\",\"_handleChange\",\"_detect\",\"_locationValue\",\"_locationChanged\",\"localize\",\"_timeZoneValue\",\"_elevationValue\",\"_unitSystemValue\",\"_unitSystemChanged\",\"_save\",\"setTimeout\",\"focus\",\"keyCode\",\"inputElement\",\"_name\",\"_location\",\"_elevation\",\"_timeZone\",\"_unitSystem\",\"currentTarget\",\"detail\",\"latitude\",\"Number\",\"elevation\",\"String\",\"unit_system\",\"time_zone\",\"t0\",\"alert\",\"message\",\"finish\",\"result\",\"_context2\",\"preventDefault\",\"location_name\",\"onboardCoreConfigStep\"],\"mappings\":\"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\",\"sourcesContent\":[\"import { Map } from \\\"leaflet\\\";\\n\\n// Sets up a Leaflet map on the provided DOM element\\nexport type LeafletModuleType = typeof import(\\\"leaflet\\\");\\n\\nexport const setupLeafletMap = async (\\n  mapElement: HTMLElement,\\n  darkMode = false\\n): Promise<[Map, LeafletModuleType]> => {\\n  if (!mapElement.parentNode) {\\n    throw new Error(\\\"Cannot setup Leaflet map on disconnected element\\\");\\n  }\\n  // tslint:disable-next-line\\n  const Leaflet = (await import(\\n    /* webpackChunkName: \\\"leaflet\\\" */ \\\"leaflet\\\"\\n  )) as LeafletModuleType;\\n  Leaflet.Icon.Default.imagePath = \\\"/static/images/leaflet/images/\\\";\\n\\n  const map = Leaflet.map(mapElement);\\n  const style = document.createElement(\\\"link\\\");\\n  style.setAttribute(\\\"href\\\", \\\"/static/images/leaflet/leaflet.css\\\");\\n  style.setAttribute(\\\"rel\\\", \\\"stylesheet\\\");\\n  mapElement.parentNode.appendChild(style);\\n  map.setView([52.3731339, 4.8903147], 13);\\n  createTileLayer(Leaflet, darkMode).addTo(map);\\n\\n  return [map, Leaflet];\\n};\\n\\nexport const createTileLayer = (\\n  leaflet: LeafletModuleType,\\n  darkMode: boolean\\n) => {\\n  return leaflet.tileLayer(\\n    `https://{s}.basemaps.cartocdn.com/${\\n      darkMode ? \\\"dark_all\\\" : \\\"light_all\\\"\\n    }/{z}/{x}/{y}${leaflet.Browser.retina ? \\\"@2x.png\\\" : \\\".png\\\"}`,\\n    {\\n      attribution:\\n        '&copy; <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a>, &copy; <a href=\\\"https://carto.com/attributions\\\">CARTO</a>',\\n      subdomains: \\\"abcd\\\",\\n      minZoom: 0,\\n      maxZoom: 20,\\n    }\\n  );\\n};\\n\",\"import { HomeAssistant } from \\\"../types\\\";\\nimport { HassConfig } from \\\"home-assistant-js-websocket\\\";\\n\\nexport interface ConfigUpdateValues {\\n  location_name: string;\\n  latitude: number;\\n  longitude: number;\\n  elevation: number;\\n  unit_system: \\\"metric\\\" | \\\"imperial\\\";\\n  time_zone: string;\\n}\\n\\nexport const saveCoreConfig = (\\n  hass: HomeAssistant,\\n  values: Partial<ConfigUpdateValues>\\n) =>\\n  hass.callWS<HassConfig>({\\n    type: \\\"config/core/update\\\",\\n    ...values,\\n  });\\n\\nexport const detectCoreConfig = (hass: HomeAssistant) =>\\n  hass.callWS<Partial<ConfigUpdateValues>>({\\n    type: \\\"config/core/detect\\\",\\n  });\\n\",\"import timezones from \\\"google-timezones-json\\\";\\n\\nexport const createTimezoneListEl = () => {\\n  const list = document.createElement(\\\"datalist\\\");\\n  list.id = \\\"timezones\\\";\\n  Object.keys(timezones).forEach((key) => {\\n    const option = document.createElement(\\\"option\\\");\\n    option.value = key;\\n    option.innerHTML = timezones[key];\\n    list.appendChild(option);\\n  });\\n  return list;\\n};\\n\",\"import {\\n  LitElement,\\n  property,\\n  TemplateResult,\\n  html,\\n  CSSResult,\\n  css,\\n  customElement,\\n  PropertyValues,\\n} from \\\"lit-element\\\";\\nimport { Marker, Map, LeafletMouseEvent, DragEndEvent, LatLng } from \\\"leaflet\\\";\\nimport {\\n  setupLeafletMap,\\n  LeafletModuleType,\\n} from \\\"../../common/dom/setup-leaflet-map\\\";\\nimport { fireEvent } from \\\"../../common/dom/fire_event\\\";\\n\\n@customElement(\\\"ha-location-editor\\\")\\nclass LocationEditor extends LitElement {\\n  @property() public location?: [number, number];\\n  public fitZoom = 16;\\n\\n  private _ignoreFitToMap?: [number, number];\\n\\n  // tslint:disable-next-line\\n  private Leaflet?: LeafletModuleType;\\n  private _leafletMap?: Map;\\n  private _locationMarker?: Marker;\\n\\n  public fitMap(): void {\\n    if (!this._leafletMap || !this.location) {\\n      return;\\n    }\\n    this._leafletMap.setView(this.location, this.fitZoom);\\n  }\\n\\n  protected render(): TemplateResult | void {\\n    return html`\\n      <div id=\\\"map\\\"></div>\\n    `;\\n  }\\n\\n  protected firstUpdated(changedProps: PropertyValues): void {\\n    super.firstUpdated(changedProps);\\n    this._initMap();\\n  }\\n\\n  protected updated(changedProps: PropertyValues): void {\\n    super.updated(changedProps);\\n\\n    // Still loading.\\n    if (!this.Leaflet) {\\n      return;\\n    }\\n\\n    this._updateMarker();\\n    if (!this._ignoreFitToMap || this._ignoreFitToMap !== this.location) {\\n      this.fitMap();\\n    }\\n    this._ignoreFitToMap = undefined;\\n  }\\n\\n  private get _mapEl(): HTMLDivElement {\\n    return this.shadowRoot!.querySelector(\\\"div\\\")!;\\n  }\\n\\n  private async _initMap(): Promise<void> {\\n    [this._leafletMap, this.Leaflet] = await setupLeafletMap(this._mapEl);\\n    this._leafletMap.addEventListener(\\n      \\\"click\\\",\\n      // @ts-ignore\\n      (ev: LeafletMouseEvent) => this._updateLocation(ev.latlng)\\n    );\\n    this._updateMarker();\\n    this.fitMap();\\n    this._leafletMap.invalidateSize();\\n  }\\n\\n  private _updateLocation(latlng: LatLng) {\\n    let longitude = latlng.lng;\\n    if (Math.abs(longitude) > 180.0) {\\n      // Normalize longitude if map provides values beyond -180 to +180 degrees.\\n      longitude = (((longitude % 360.0) + 540.0) % 360.0) - 180.0;\\n    }\\n    this.location = this._ignoreFitToMap = [latlng.lat, longitude];\\n    fireEvent(this, \\\"change\\\", undefined, { bubbles: false });\\n  }\\n\\n  private _updateMarker(): void {\\n    if (!this.location) {\\n      if (this._locationMarker) {\\n        this._locationMarker.remove();\\n        this._locationMarker = undefined;\\n      }\\n      return;\\n    }\\n\\n    if (this._locationMarker) {\\n      this._locationMarker.setLatLng(this.location);\\n      return;\\n    }\\n    this._locationMarker = this.Leaflet!.marker(this.location, {\\n      draggable: true,\\n    });\\n    this._locationMarker.addEventListener(\\n      \\\"dragend\\\",\\n      // @ts-ignore\\n      (ev: DragEndEvent) => this._updateLocation(ev.target.getLatLng())\\n    );\\n    this._leafletMap!.addLayer(this._locationMarker);\\n  }\\n\\n  static get styles(): CSSResult {\\n    return css`\\n      :host {\\n        display: block;\\n        height: 300px;\\n      }\\n      #map {\\n        height: 100%;\\n      }\\n    `;\\n  }\\n}\\n\\ndeclare global {\\n  interface HTMLElementTagNameMap {\\n    \\\"ha-location-editor\\\": LocationEditor;\\n  }\\n}\\n\",\"import {\\n  LitElement,\\n  customElement,\\n  property,\\n  TemplateResult,\\n  html,\\n  CSSResult,\\n  css,\\n} from \\\"lit-element\\\";\\nimport \\\"@material/mwc-button/mwc-button\\\";\\nimport \\\"@polymer/paper-input/paper-input\\\";\\nimport \\\"@polymer/paper-radio-group/paper-radio-group\\\";\\nimport \\\"@polymer/paper-radio-button/paper-radio-button\\\";\\n// tslint:disable-next-line: no-duplicate-imports\\nimport { PaperInputElement } from \\\"@polymer/paper-input/paper-input\\\";\\nimport { HomeAssistant } from \\\"../types\\\";\\nimport {\\n  ConfigUpdateValues,\\n  detectCoreConfig,\\n  saveCoreConfig,\\n} from \\\"../data/core\\\";\\nimport { PolymerChangedEvent } from \\\"../polymer-types\\\";\\nimport { onboardCoreConfigStep } from \\\"../data/onboarding\\\";\\nimport { fireEvent } from \\\"../common/dom/fire_event\\\";\\nimport { LocalizeFunc } from \\\"../common/translations/localize\\\";\\nimport { createTimezoneListEl } from \\\"../components/timezone-datalist\\\";\\nimport \\\"../components/map/ha-location-editor\\\";\\n\\nconst amsterdam = [52.3731339, 4.8903147];\\n\\n@customElement(\\\"onboarding-core-config\\\")\\nclass OnboardingCoreConfig extends LitElement {\\n  @property() public hass!: HomeAssistant;\\n  @property() public onboardingLocalize!: LocalizeFunc;\\n\\n  @property() private _working = false;\\n\\n  @property() private _name!: ConfigUpdateValues[\\\"location_name\\\"];\\n  @property() private _location!: [number, number];\\n  @property() private _elevation!: string;\\n  @property() private _unitSystem!: ConfigUpdateValues[\\\"unit_system\\\"];\\n  @property() private _timeZone!: string;\\n\\n  protected render(): TemplateResult | void {\\n    return html`\\n      <p>\\n        ${this.onboardingLocalize(\\n          \\\"ui.panel.page-onboarding.core-config.intro\\\",\\n          \\\"name\\\",\\n          this.hass.user!.name\\n        )}\\n      </p>\\n\\n      <paper-input\\n        .label=${this.onboardingLocalize(\\n          \\\"ui.panel.page-onboarding.core-config.location_name\\\"\\n        )}\\n        name=\\\"name\\\"\\n        .disabled=${this._working}\\n        .value=${this._nameValue}\\n        @value-changed=${this._handleChange}\\n      ></paper-input>\\n\\n      <div class=\\\"middle-text\\\">\\n        <p>\\n          ${this.onboardingLocalize(\\n            \\\"ui.panel.page-onboarding.core-config.intro_location\\\"\\n          )}\\n        </p>\\n\\n        <div class=\\\"row\\\">\\n          <div>\\n            ${this.onboardingLocalize(\\n              \\\"ui.panel.page-onboarding.core-config.intro_location_detect\\\"\\n            )}\\n          </div>\\n          <mwc-button @click=${this._detect}>\\n            ${this.onboardingLocalize(\\n              \\\"ui.panel.page-onboarding.core-config.button_detect\\\"\\n            )}\\n          </mwc-button>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <ha-location-editor\\n          class=\\\"flex\\\"\\n          .location=${this._locationValue}\\n          .fitZoom=${14}\\n          @change=${this._locationChanged}\\n        ></ha-location-editor>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <paper-input\\n          class=\\\"flex\\\"\\n          .label=${this.hass.localize(\\n            \\\"ui.panel.config.core.section.core.core_config.time_zone\\\"\\n          )}\\n          name=\\\"timeZone\\\"\\n          list=\\\"timezones\\\"\\n          .disabled=${this._working}\\n          .value=${this._timeZoneValue}\\n          @value-changed=${this._handleChange}\\n        ></paper-input>\\n\\n        <paper-input\\n          class=\\\"flex\\\"\\n          .label=${this.hass.localize(\\n            \\\"ui.panel.config.core.section.core.core_config.elevation\\\"\\n          )}\\n          name=\\\"elevation\\\"\\n          type=\\\"number\\\"\\n          .disabled=${this._working}\\n          .value=${this._elevationValue}\\n          @value-changed=${this._handleChange}\\n        >\\n          <span slot=\\\"suffix\\\">\\n            ${this.hass.localize(\\n              \\\"ui.panel.config.core.section.core.core_config.elevation_meters\\\"\\n            )}\\n          </span>\\n        </paper-input>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"flex\\\">\\n          ${this.hass.localize(\\n            \\\"ui.panel.config.core.section.core.core_config.unit_system\\\"\\n          )}\\n        </div>\\n        <paper-radio-group\\n          class=\\\"flex\\\"\\n          .selected=${this._unitSystemValue}\\n          @selected-changed=${this._unitSystemChanged}\\n        >\\n          <paper-radio-button name=\\\"metric\\\" .disabled=${this._working}>\\n            ${this.hass.localize(\\n              \\\"ui.panel.config.core.section.core.core_config.unit_system_metric\\\"\\n            )}\\n            <div class=\\\"secondary\\\">\\n              ${this.hass.localize(\\n                \\\"ui.panel.config.core.section.core.core_config.metric_example\\\"\\n              )}\\n            </div>\\n          </paper-radio-button>\\n          <paper-radio-button name=\\\"imperial\\\" .disabled=${this._working}>\\n            ${this.hass.localize(\\n              \\\"ui.panel.config.core.section.core.core_config.unit_system_imperial\\\"\\n            )}\\n            <div class=\\\"secondary\\\">\\n              ${this.hass.localize(\\n                \\\"ui.panel.config.core.section.core.core_config.imperial_example\\\"\\n              )}\\n            </div>\\n          </paper-radio-button>\\n        </paper-radio-group>\\n      </div>\\n\\n      <div class=\\\"footer\\\">\\n        <mwc-button @click=${this._save} .disabled=${this._working}>\\n          ${this.onboardingLocalize(\\n            \\\"ui.panel.page-onboarding.core-config.finish\\\"\\n          )}\\n        </mwc-button>\\n      </div>\\n    `;\\n  }\\n\\n  protected firstUpdated(changedProps) {\\n    super.firstUpdated(changedProps);\\n    setTimeout(\\n      () => this.shadowRoot!.querySelector(\\\"paper-input\\\")!.focus(),\\n      100\\n    );\\n    this.addEventListener(\\\"keypress\\\", (ev) => {\\n      if (ev.keyCode === 13) {\\n        this._save(ev);\\n      }\\n    });\\n    const input = this.shadowRoot!.querySelector(\\n      \\\"[name=timeZone]\\\"\\n    ) as PaperInputElement;\\n    input.inputElement.appendChild(createTimezoneListEl());\\n  }\\n\\n  private get _nameValue() {\\n    return this._name !== undefined\\n      ? this._name\\n      : this.onboardingLocalize(\\n          \\\"ui.panel.page-onboarding.core-config.location_name_default\\\"\\n        );\\n  }\\n\\n  private get _locationValue() {\\n    return this._location || amsterdam;\\n  }\\n\\n  private get _elevationValue() {\\n    return this._elevation !== undefined ? this._elevation : 0;\\n  }\\n\\n  private get _timeZoneValue() {\\n    return this._timeZone;\\n  }\\n\\n  private get _unitSystemValue() {\\n    return this._unitSystem !== undefined ? this._unitSystem : \\\"metric\\\";\\n  }\\n\\n  private _handleChange(ev: PolymerChangedEvent<string>) {\\n    const target = ev.currentTarget as PaperInputElement;\\n    this[`_${target.name}`] = target.value;\\n  }\\n\\n  private _locationChanged(ev) {\\n    this._location = ev.currentTarget.location;\\n  }\\n\\n  private _unitSystemChanged(\\n    ev: PolymerChangedEvent<ConfigUpdateValues[\\\"unit_system\\\"]>\\n  ) {\\n    this._unitSystem = ev.detail.value;\\n  }\\n\\n  private async _detect() {\\n    this._working = true;\\n    try {\\n      const values = await detectCoreConfig(this.hass);\\n      if (values.latitude && values.longitude) {\\n        this._location = [Number(values.latitude), Number(values.longitude)];\\n      }\\n      if (values.elevation) {\\n        this._elevation = String(values.elevation);\\n      }\\n      if (values.unit_system) {\\n        this._unitSystem = values.unit_system;\\n      }\\n      if (values.time_zone) {\\n        this._timeZone = values.time_zone;\\n      }\\n    } catch (err) {\\n      alert(`Failed to detect location information: ${err.message}`);\\n    } finally {\\n      this._working = false;\\n    }\\n  }\\n\\n  private async _save(ev) {\\n    ev.preventDefault();\\n    this._working = true;\\n    try {\\n      const location = this._locationValue;\\n      await saveCoreConfig(this.hass, {\\n        location_name: this._nameValue,\\n        latitude: location[0],\\n        longitude: location[1],\\n        elevation: Number(this._elevationValue),\\n        unit_system: this._unitSystemValue,\\n        time_zone: this._timeZoneValue || \\\"UTC\\\",\\n      });\\n      const result = await onboardCoreConfigStep(this.hass);\\n      fireEvent(this, \\\"onboarding-step\\\", {\\n        type: \\\"core_config\\\",\\n        result,\\n      });\\n    } catch (err) {\\n      this._working = false;\\n      alert(\\\"FAIL\\\");\\n    }\\n  }\\n\\n  static get styles(): CSSResult {\\n    return css`\\n      .row {\\n        display: flex;\\n        flex-direction: row;\\n        margin: 0 -8px;\\n        align-items: center;\\n      }\\n\\n      .secondary {\\n        color: var(--secondary-text-color);\\n      }\\n\\n      .flex {\\n        flex: 1;\\n      }\\n\\n      .middle-text {\\n        margin: 24px 0;\\n      }\\n\\n      .row > * {\\n        margin: 0 8px;\\n      }\\n      .footer {\\n        margin-top: 16px;\\n        text-align: right;\\n      }\\n    `;\\n  }\\n}\\n\\ndeclare global {\\n  interface HTMLElementTagNameMap {\\n    \\\"onboarding-core-config\\\": OnboardingCoreConfig;\\n  }\\n}\\n\"]}","code":"(self.webpackJsonp=self.webpackJsonp||[]).push([[86],{339:function(e,t,n){\"use strict\";n.d(t,\"b\",function(){return r}),n.d(t,\"a\",function(){return i});var r=function(e){var t,r,o,a,s=arguments;return regeneratorRuntime.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(t=s.length>1&&void 0!==s[1]&&s[1],e.parentNode){c.next=3;break}throw new Error(\"Cannot setup Leaflet map on disconnected element\");case 3:return c.next=5,regeneratorRuntime.awrap(n.e(127).then(n.t.bind(null,411,7)));case 5:return(r=c.sent).Icon.Default.imagePath=\"/static/images/leaflet/images/\",o=r.map(e),(a=document.createElement(\"link\")).setAttribute(\"href\",\"/static/images/leaflet/leaflet.css\"),a.setAttribute(\"rel\",\"stylesheet\"),e.parentNode.appendChild(a),o.setView([52.3731339,4.8903147],13),i(r,t).addTo(o),c.abrupt(\"return\",[o,r]);case 15:case\"end\":return c.stop()}})},i=function(e,t){return e.tileLayer(\"https://{s}.basemaps.cartocdn.com/\".concat(t?\"dark_all\":\"light_all\",\"/{z}/{x}/{y}\").concat(e.Browser.retina?\"@2x.png\":\".png\"),{attribution:'&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a>, &copy; <a href=\"https://carto.com/attributions\">CARTO</a>',subdomains:\"abcd\",minZoom:0,maxZoom:20})}},406:function(e,t,n){\"use strict\";n.d(t,\"b\",function(){return r}),n.d(t,\"a\",function(){return i});var r=function(e,t){return e.callWS(Object.assign({type:\"config/core/update\"},t))},i=function(e){return e.callWS({type:\"config/core/detect\"})}},453:function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return o});var r=n(502),i=n.n(r),o=function(){var e=document.createElement(\"datalist\");return e.id=\"timezones\",Object.keys(i.a).forEach(function(t){var n=document.createElement(\"option\");n.value=t,n.innerHTML=i.a[t],e.appendChild(n)}),e}},454:function(e,t,n){\"use strict\";var r=n(0),i=n(339),o=n(14);function a(e){return(a=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function s(){var e=u([\"\\n      :host {\\n        display: block;\\n        height: 300px;\\n      }\\n      #map {\\n        height: 100%;\\n      }\\n    \"]);return s=function(){return e},e}function c(e,t){return k(e)||function(e,t){if(!(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||b()}function l(){var e=u(['\\n      <div id=\"map\"></div>\\n    ']);return l=function(){return e},e}function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function d(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t,n=g(e.key);\"method\"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:\"get\"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:\"set\"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:\"field\"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:\"field\"===e.kind?\"field\":\"method\",key:n,placement:e.static?\"static\":\"field\"===e.kind?\"own\":\"prototype\",descriptor:t};return e.decorators&&(r.decorators=e.decorators),\"field\"===e.kind&&(r.initializer=e.value),r}function h(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function m(e){return e.decorators&&e.decorators.length}function v(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function y(e,t){var n=e[t];if(void 0!==n&&\"function\"!=typeof n)throw new TypeError(\"Expected '\"+t+\"' to be a function\");return n}function g(e){var t=function(e,t){if(\"object\"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==a(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===a(t)?t:String(t)}function b(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}function k(e){if(Array.isArray(e))return e}function w(e,t,n){return(w=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e,t,n,r){var i=function(){var e={elementsDefinitionOrder:[[\"method\"],[\"field\"]],initializeInstanceElements:function(e,t){[\"method\",\"field\"].forEach(function(n){t.forEach(function(t){t.kind===n&&\"own\"===t.placement&&this.defineClassElement(e,t)},this)},this)},initializeClassElements:function(e,t){var n=e.prototype;[\"method\",\"field\"].forEach(function(r){t.forEach(function(t){var i=t.placement;if(t.kind===r&&(\"static\"===i||\"prototype\"===i)){var o=\"static\"===i?e:n;this.defineClassElement(o,t)}},this)},this)},defineClassElement:function(e,t){var n=t.descriptor;if(\"field\"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach(function(e){this.addElementPlacement(e,i)},this),e.forEach(function(e){if(!m(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)},this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError(\"Duplicated element (\"+e.key+\")\");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError(\"Duplicated element (\"+e[a].key+\")\")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:\"Descriptor\",configurable:!0}),\"field\"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,k(t)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(t)||b()).map(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,\"finisher\",\"An element descriptor\"),this.disallowProperty(e,\"extras\",\"An element descriptor\"),t},this)},toElementDescriptor:function(e){var t=String(e.kind);if(\"method\"!==t&&\"field\"!==t)throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or \"field\", but a decorator created an element descriptor with .kind \"'+t+'\"');var n=g(e.key),r=String(e.placement);if(\"static\"!==r&&\"prototype\"!==r&&\"own\"!==r)throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\", \"prototype\" or \"own\", but a decorator created an element descriptor with .placement \"'+r+'\"');var i=e.descriptor;this.disallowProperty(e,\"elements\",\"An element descriptor\");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return\"field\"!==t?this.disallowProperty(e,\"initializer\",\"A method descriptor\"):(this.disallowProperty(i,\"get\",\"The property descriptor of a field descriptor\"),this.disallowProperty(i,\"set\",\"The property descriptor of a field descriptor\"),this.disallowProperty(i,\"value\",\"The property descriptor of a field descriptor\"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){var t=this.toElementDescriptor(e),n=y(e,\"finisher\"),r=this.toElementDescriptors(e.extras);return{element:t,finisher:n,extras:r}},fromClassDescriptor:function(e){var t={kind:\"class\",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:\"Descriptor\",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if(\"class\"!==t)throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator created a class descriptor with .kind \"'+t+'\"');this.disallowProperty(e,\"key\",\"A class descriptor\"),this.disallowProperty(e,\"placement\",\"A class descriptor\"),this.disallowProperty(e,\"descriptor\",\"A class descriptor\"),this.disallowProperty(e,\"initializer\",\"A class descriptor\"),this.disallowProperty(e,\"extras\",\"A class descriptor\");var n=y(e,\"finisher\"),r=this.toElementDescriptors(e.elements);return{elements:r,finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if(\"function\"!=typeof r)throw new TypeError(\"Finishers must return a constructor.\");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+\" can't have a .\"+t+\" property.\")}};return e}();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t(function(e){i.initializeInstanceElements(e,s.elements)},n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return\"method\"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if(\"method\"===o.kind&&(i=t.find(n)))if(v(o.descriptor)||v(i.descriptor)){if(m(o)||m(i))throw new ReferenceError(\"Duplicated methods (\"+o.key+\") can't be decorated.\");i.descriptor=o.descriptor}else{if(m(o)){if(m(i))throw new ReferenceError(\"Decorators can't be placed on different accessors with for the same property (\"+o.key+\").\");i.decorators=o.decorators}h(o,i)}else t.push(o)}return t}(a.d.map(p)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([Object(r.d)(\"ha-location-editor\")],function(e,t){var n=function(n){function r(){var t,n,i,o;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,r);for(var s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return i=this,n=!(o=(t=_(r)).call.apply(t,[this].concat(c)))||\"object\"!==a(o)&&\"function\"!=typeof o?d(i):o,e(d(n)),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,t),r}();return{F:n,d:[{kind:\"field\",decorators:[Object(r.g)()],key:\"location\",value:void 0},{kind:\"field\",key:\"fitZoom\",value:function(){return 16}},{kind:\"field\",key:\"_ignoreFitToMap\",value:void 0},{kind:\"field\",key:\"Leaflet\",value:void 0},{kind:\"field\",key:\"_leafletMap\",value:void 0},{kind:\"field\",key:\"_locationMarker\",value:void 0},{kind:\"method\",key:\"fitMap\",value:function(){this._leafletMap&&this.location&&this._leafletMap.setView(this.location,this.fitZoom)}},{kind:\"method\",key:\"render\",value:function(){return Object(r.f)(l())}},{kind:\"method\",key:\"firstUpdated\",value:function(e){w(_(n.prototype),\"firstUpdated\",this).call(this,e),this._initMap()}},{kind:\"method\",key:\"updated\",value:function(e){w(_(n.prototype),\"updated\",this).call(this,e),this.Leaflet&&(this._updateMarker(),this._ignoreFitToMap&&this._ignoreFitToMap===this.location||this.fitMap(),this._ignoreFitToMap=void 0)}},{kind:\"get\",key:\"_mapEl\",value:function(){return this.shadowRoot.querySelector(\"div\")}},{kind:\"method\",key:\"_initMap\",value:function(){var e,t,n=this;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(Object(i.b)(this._mapEl));case 2:e=r.sent,t=c(e,2),this._leafletMap=t[0],this.Leaflet=t[1],this._leafletMap.addEventListener(\"click\",function(e){return n._updateLocation(e.latlng)}),this._updateMarker(),this.fitMap(),this._leafletMap.invalidateSize();case 10:case\"end\":return r.stop()}},null,this)}},{kind:\"method\",key:\"_updateLocation\",value:function(e){var t=e.lng;Math.abs(t)>180&&(t=(t%360+540)%360-180),this.location=this._ignoreFitToMap=[e.lat,t],Object(o.a)(this,\"change\",void 0,{bubbles:!1})}},{kind:\"method\",key:\"_updateMarker\",value:function(){var e=this;this.location?this._locationMarker?this._locationMarker.setLatLng(this.location):(this._locationMarker=this.Leaflet.marker(this.location,{draggable:!0}),this._locationMarker.addEventListener(\"dragend\",function(t){return e._updateLocation(t.target.getLatLng())}),this._leafletMap.addLayer(this._locationMarker)):this._locationMarker&&(this._locationMarker.remove(),this._locationMarker=void 0)}},{kind:\"get\",static:!0,key:\"styles\",value:function(){return Object(r.c)(s())}}]}},r.a)},692:function(e,t,n){\"use strict\";n.r(t);var r=n(0),i=(n(83),n(80),n(273),n(250),n(406)),o=n(109),a=n(14),s=n(453);n(454);function c(e){return(c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function l(){var e=d([\"\\n      .row {\\n        display: flex;\\n        flex-direction: row;\\n        margin: 0 -8px;\\n        align-items: center;\\n      }\\n\\n      .secondary {\\n        color: var(--secondary-text-color);\\n      }\\n\\n      .flex {\\n        flex: 1;\\n      }\\n\\n      .middle-text {\\n        margin: 24px 0;\\n      }\\n\\n      .row > * {\\n        margin: 0 8px;\\n      }\\n      .footer {\\n        margin-top: 16px;\\n        text-align: right;\\n      }\\n    \"]);return l=function(){return e},e}function u(){var e=d([\"\\n      <p>\\n        \",\"\\n      </p>\\n\\n      <paper-input\\n        .label=\",'\\n        name=\"name\"\\n        .disabled=',\"\\n        .value=\",\"\\n        @value-changed=\",'\\n      ></paper-input>\\n\\n      <div class=\"middle-text\">\\n        <p>\\n          ','\\n        </p>\\n\\n        <div class=\"row\">\\n          <div>\\n            ',\"\\n          </div>\\n          <mwc-button @click=\",\">\\n            \",'\\n          </mwc-button>\\n        </div>\\n      </div>\\n\\n      <div class=\"row\">\\n        <ha-location-editor\\n          class=\"flex\"\\n          .location=',\"\\n          .fitZoom=\",\"\\n          @change=\",'\\n        ></ha-location-editor>\\n      </div>\\n\\n      <div class=\"row\">\\n        <paper-input\\n          class=\"flex\"\\n          .label=','\\n          name=\"timeZone\"\\n          list=\"timezones\"\\n          .disabled=',\"\\n          .value=\",\"\\n          @value-changed=\",'\\n        ></paper-input>\\n\\n        <paper-input\\n          class=\"flex\"\\n          .label=','\\n          name=\"elevation\"\\n          type=\"number\"\\n          .disabled=',\"\\n          .value=\",\"\\n          @value-changed=\",'\\n        >\\n          <span slot=\"suffix\">\\n            ','\\n          </span>\\n        </paper-input>\\n      </div>\\n\\n      <div class=\"row\">\\n        <div class=\"flex\">\\n          ','\\n        </div>\\n        <paper-radio-group\\n          class=\"flex\"\\n          .selected=',\"\\n          @selected-changed=\",'\\n        >\\n          <paper-radio-button name=\"metric\" .disabled=',\">\\n            \",'\\n            <div class=\"secondary\">\\n              ','\\n            </div>\\n          </paper-radio-button>\\n          <paper-radio-button name=\"imperial\" .disabled=',\">\\n            \",'\\n            <div class=\"secondary\">\\n              ','\\n            </div>\\n          </paper-radio-button>\\n        </paper-radio-group>\\n      </div>\\n\\n      <div class=\"footer\">\\n        <mwc-button @click=',\" .disabled=\",\">\\n          \",\"\\n        </mwc-button>\\n      </div>\\n    \"]);return u=function(){return e},e}function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function f(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t,n=b(e.key);\"method\"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:\"get\"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:\"set\"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:\"field\"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:\"field\"===e.kind?\"field\":\"method\",key:n,placement:e.static?\"static\":\"field\"===e.kind?\"own\":\"prototype\",descriptor:t};return e.decorators&&(r.decorators=e.decorators),\"field\"===e.kind&&(r.initializer=e.value),r}function m(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function v(e){return e.decorators&&e.decorators.length}function y(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function g(e,t){var n=e[t];if(void 0!==n&&\"function\"!=typeof n)throw new TypeError(\"Expected '\"+t+\"' to be a function\");return n}function b(e){var t=function(e,t){if(\"object\"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||\"default\");if(\"object\"!==c(r))return r;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===c(t)?t:String(t)}function k(e,t,n){return(k=\"undefined\"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=[52.3731339,4.8903147];!function(e,t,n,r){var i=function(){var e={elementsDefinitionOrder:[[\"method\"],[\"field\"]],initializeInstanceElements:function(e,t){[\"method\",\"field\"].forEach(function(n){t.forEach(function(t){t.kind===n&&\"own\"===t.placement&&this.defineClassElement(e,t)},this)},this)},initializeClassElements:function(e,t){var n=e.prototype;[\"method\",\"field\"].forEach(function(r){t.forEach(function(t){var i=t.placement;if(t.kind===r&&(\"static\"===i||\"prototype\"===i)){var o=\"static\"===i?e:n;this.defineClassElement(o,t)}},this)},this)},defineClassElement:function(e,t){var n=t.descriptor;if(\"field\"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach(function(e){this.addElementPlacement(e,i)},this),e.forEach(function(e){if(!v(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)},this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError(\"Duplicated element (\"+e.key+\")\");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var a=t[e.placement];a.splice(a.indexOf(e.key),1);var s=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(s)||s);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var a=0;a<e.length-1;a++)for(var s=a+1;s<e.length;s++)if(e[a].key===e[s].key&&e[a].placement===e[s].placement)throw new TypeError(\"Duplicated element (\"+e[a].key+\")\")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:\"Descriptor\",configurable:!0}),\"field\"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}(t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()).map(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,\"finisher\",\"An element descriptor\"),this.disallowProperty(e,\"extras\",\"An element descriptor\"),t},this)},toElementDescriptor:function(e){var t=String(e.kind);if(\"method\"!==t&&\"field\"!==t)throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or \"field\", but a decorator created an element descriptor with .kind \"'+t+'\"');var n=b(e.key),r=String(e.placement);if(\"static\"!==r&&\"prototype\"!==r&&\"own\"!==r)throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\", \"prototype\" or \"own\", but a decorator created an element descriptor with .placement \"'+r+'\"');var i=e.descriptor;this.disallowProperty(e,\"elements\",\"An element descriptor\");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return\"field\"!==t?this.disallowProperty(e,\"initializer\",\"A method descriptor\"):(this.disallowProperty(i,\"get\",\"The property descriptor of a field descriptor\"),this.disallowProperty(i,\"set\",\"The property descriptor of a field descriptor\"),this.disallowProperty(i,\"value\",\"The property descriptor of a field descriptor\"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){var t=this.toElementDescriptor(e),n=g(e,\"finisher\"),r=this.toElementDescriptors(e.extras);return{element:t,finisher:n,extras:r}},fromClassDescriptor:function(e){var t={kind:\"class\",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:\"Descriptor\",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if(\"class\"!==t)throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator created a class descriptor with .kind \"'+t+'\"');this.disallowProperty(e,\"key\",\"A class descriptor\"),this.disallowProperty(e,\"placement\",\"A class descriptor\"),this.disallowProperty(e,\"descriptor\",\"A class descriptor\"),this.disallowProperty(e,\"initializer\",\"A class descriptor\"),this.disallowProperty(e,\"extras\",\"A class descriptor\");var n=g(e,\"finisher\"),r=this.toElementDescriptors(e.elements);return{elements:r,finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if(\"function\"!=typeof r)throw new TypeError(\"Finishers must return a constructor.\");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+\" can't have a .\"+t+\" property.\")}};return e}();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var a=t(function(e){i.initializeInstanceElements(e,s.elements)},n),s=i.decorateClass(function(e){for(var t=[],n=function(e){return\"method\"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if(\"method\"===o.kind&&(i=t.find(n)))if(y(o.descriptor)||y(i.descriptor)){if(v(o)||v(i))throw new ReferenceError(\"Duplicated methods (\"+o.key+\") can't be decorated.\");i.descriptor=o.descriptor}else{if(v(o)){if(v(i))throw new ReferenceError(\"Decorators can't be placed on different accessors with for the same property (\"+o.key+\").\");i.decorators=o.decorators}m(o,i)}else t.push(o)}return t}(a.d.map(h)),e);i.initializeClassElements(a.F,s.elements),i.runClassFinishers(a.F,s.finishers)}([Object(r.d)(\"onboarding-core-config\")],function(e,t){var n=function(n){function r(){var t,n,i,o;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,r);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return i=this,n=!(o=(t=w(r)).call.apply(t,[this].concat(s)))||\"object\"!==c(o)&&\"function\"!=typeof o?f(i):o,e(f(n)),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(r,t),r}();return{F:n,d:[{kind:\"field\",decorators:[Object(r.g)()],key:\"hass\",value:void 0},{kind:\"field\",decorators:[Object(r.g)()],key:\"onboardingLocalize\",value:void 0},{kind:\"field\",decorators:[Object(r.g)()],key:\"_working\",value:function(){return!1}},{kind:\"field\",decorators:[Object(r.g)()],key:\"_name\",value:void 0},{kind:\"field\",decorators:[Object(r.g)()],key:\"_location\",value:void 0},{kind:\"field\",decorators:[Object(r.g)()],key:\"_elevation\",value:void 0},{kind:\"field\",decorators:[Object(r.g)()],key:\"_unitSystem\",value:void 0},{kind:\"field\",decorators:[Object(r.g)()],key:\"_timeZone\",value:void 0},{kind:\"method\",key:\"render\",value:function(){return Object(r.f)(u(),this.onboardingLocalize(\"ui.panel.page-onboarding.core-config.intro\",\"name\",this.hass.user.name),this.onboardingLocalize(\"ui.panel.page-onboarding.core-config.location_name\"),this._working,this._nameValue,this._handleChange,this.onboardingLocalize(\"ui.panel.page-onboarding.core-config.intro_location\"),this.onboardingLocalize(\"ui.panel.page-onboarding.core-config.intro_location_detect\"),this._detect,this.onboardingLocalize(\"ui.panel.page-onboarding.core-config.button_detect\"),this._locationValue,14,this._locationChanged,this.hass.localize(\"ui.panel.config.core.section.core.core_config.time_zone\"),this._working,this._timeZoneValue,this._handleChange,this.hass.localize(\"ui.panel.config.core.section.core.core_config.elevation\"),this._working,this._elevationValue,this._handleChange,this.hass.localize(\"ui.panel.config.core.section.core.core_config.elevation_meters\"),this.hass.localize(\"ui.panel.config.core.section.core.core_config.unit_system\"),this._unitSystemValue,this._unitSystemChanged,this._working,this.hass.localize(\"ui.panel.config.core.section.core.core_config.unit_system_metric\"),this.hass.localize(\"ui.panel.config.core.section.core.core_config.metric_example\"),this._working,this.hass.localize(\"ui.panel.config.core.section.core.core_config.unit_system_imperial\"),this.hass.localize(\"ui.panel.config.core.section.core.core_config.imperial_example\"),this._save,this._working,this.onboardingLocalize(\"ui.panel.page-onboarding.core-config.finish\"))}},{kind:\"method\",key:\"firstUpdated\",value:function(e){var t=this;k(w(n.prototype),\"firstUpdated\",this).call(this,e),setTimeout(function(){return t.shadowRoot.querySelector(\"paper-input\").focus()},100),this.addEventListener(\"keypress\",function(e){13===e.keyCode&&t._save(e)}),this.shadowRoot.querySelector(\"[name=timeZone]\").inputElement.appendChild(Object(s.a)())}},{kind:\"get\",key:\"_nameValue\",value:function(){return void 0!==this._name?this._name:this.onboardingLocalize(\"ui.panel.page-onboarding.core-config.location_name_default\")}},{kind:\"get\",key:\"_locationValue\",value:function(){return this._location||_}},{kind:\"get\",key:\"_elevationValue\",value:function(){return void 0!==this._elevation?this._elevation:0}},{kind:\"get\",key:\"_timeZoneValue\",value:function(){return this._timeZone}},{kind:\"get\",key:\"_unitSystemValue\",value:function(){return void 0!==this._unitSystem?this._unitSystem:\"metric\"}},{kind:\"method\",key:\"_handleChange\",value:function(e){var t=e.currentTarget;this[\"_\".concat(t.name)]=t.value}},{kind:\"method\",key:\"_locationChanged\",value:function(e){this._location=e.currentTarget.location}},{kind:\"method\",key:\"_unitSystemChanged\",value:function(e){this._unitSystem=e.detail.value}},{kind:\"method\",key:\"_detect\",value:function(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return this._working=!0,t.prev=1,t.next=4,regeneratorRuntime.awrap(Object(i.a)(this.hass));case 4:(e=t.sent).latitude&&e.longitude&&(this._location=[Number(e.latitude),Number(e.longitude)]),e.elevation&&(this._elevation=String(e.elevation)),e.unit_system&&(this._unitSystem=e.unit_system),e.time_zone&&(this._timeZone=e.time_zone),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),alert(\"Failed to detect location information: \".concat(t.t0.message));case 14:return t.prev=14,this._working=!1,t.finish(14);case 17:case\"end\":return t.stop()}},null,this,[[1,11,14,17]])}},{kind:\"method\",key:\"_save\",value:function(e){var t,n;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e.preventDefault(),this._working=!0,r.prev=2,t=this._locationValue,r.next=6,regeneratorRuntime.awrap(Object(i.b)(this.hass,{location_name:this._nameValue,latitude:t[0],longitude:t[1],elevation:Number(this._elevationValue),unit_system:this._unitSystemValue,time_zone:this._timeZoneValue||\"UTC\"}));case 6:return r.next=8,regeneratorRuntime.awrap(Object(o.b)(this.hass));case 8:n=r.sent,Object(a.a)(this,\"onboarding-step\",{type:\"core_config\",result:n}),r.next=16;break;case 12:r.prev=12,r.t0=r.catch(2),this._working=!1,alert(\"FAIL\");case 16:case\"end\":return r.stop()}},null,this,[[2,12]])}},{kind:\"get\",static:!0,key:\"styles\",value:function(){return Object(r.c)(l())}}]}},r.a)}}]);","extractedComments":[]}