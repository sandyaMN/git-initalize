{"map":"{\"version\":3,\"sources\":[\"/home/sandya/Sandya/workspace/Brandon/home-assistant-polymer/src/panels/config/cloud/forgot-password/cloud-forgot-password.js\"],\"names\":[\"__webpack_require__\",\"r\",\"__webpack_exports__\",\"_polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_1__\",\"_polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_2__\",\"_mixins_events_mixin__WEBPACK_IMPORTED_MODULE_7__\",\"_mixins_localize_mixin__WEBPACK_IMPORTED_MODULE_8__\",\"customElements\",\"define\",\"LocalizeMixin\",\"EventsMixin\",\"PolymerElement\",\"template\",\"html\",\"properties\",\"hass\",\"Object\",\"email\",\"type\",\"String\",\"notify\",\"observer\",\"_requestInProgress\",\"Boolean\",\"value\",\"_error\",\"_emailChanged\",\"this\",\"$\",\"invalid\",\"_keyDown\",\"ev\",\"keyCode\",\"_handleEmailPasswordReset\",\"preventDefault\",\"includes\",\"callApi\",\"then\",\"fire\",\"flashMessage\",\"err\",\"setProperties\",\"body\",\"message\"],\"mappings\":\"uFAAAA,EAAAC,EAAAC,GAAAF,EAAA,IAAA,IAAAG,EAAAH,EAAA,GAAAI,EAAAJ,EAAA,IAAAK,GAAAL,EAAA,KAAAA,EAAA,KAAAA,EAAA,KAAAA,EAAA,IAAAA,EAAA,MAAAM,EAAAN,EAAA,KA+IAO,eAAeC,OAAO,wBAjItB,cAAkCC,OAAAA,EAAAA,EAAAA,CAAcC,OAAAA,EAAAA,EAAAA,CAAYC,EAAAA,KAC1DC,sBACE,OAAOC,EAAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MA8DTC,wBACE,MAAO,CACLC,KAAMC,OACNC,MAAO,CACLC,KAAMC,OACNC,QAAQ,EACRC,SAAU,iBAEZC,mBAAoB,CAClBJ,KAAMK,QACNC,OAAO,GAETC,OAAQ,CACNP,KAAMC,OACNK,MAAO,KAKbE,gBACEC,KAAKF,OAAS,GACdE,KAAKC,EAAEX,MAAMY,SAAU,EAGzBC,SAASC,GAEY,KAAfA,EAAGC,UACLL,KAAKM,4BACLF,EAAGG,kBAIPD,4BACON,KAAKV,OAAUU,KAAKV,MAAMkB,SAAS,OACtCR,KAAKC,EAAEX,MAAMY,SAAU,GAGrBF,KAAKC,EAAEX,MAAMY,UAEjBF,KAAKL,oBAAqB,EAE1BK,KAAKZ,KACFqB,QAAQ,OAAQ,wBAAyB,CACxCnB,MAAOU,KAAKV,QAEboB,KACC,KACEV,KAAKL,oBAAqB,EAC1BK,KAAKW,KAAK,aAAc,CACtBC,aACE,4EAGLC,GACCb,KAAKc,cAAc,CACjBnB,oBAAoB,EACpBG,OACEe,GAAOA,EAAIE,MAAQF,EAAIE,KAAKC,QACxBH,EAAIE,KAAKC,QACT\",\"sourcesContent\":[\"import \\\"@polymer/paper-input/paper-input\\\";\\nimport { html } from \\\"@polymer/polymer/lib/utils/html-tag\\\";\\nimport { PolymerElement } from \\\"@polymer/polymer/polymer-element\\\";\\n\\nimport \\\"../../../../components/ha-card\\\";\\nimport \\\"../../../../components/buttons/ha-progress-button\\\";\\nimport \\\"../../../../layouts/hass-subpage\\\";\\nimport \\\"../../../../resources/ha-style\\\";\\nimport { EventsMixin } from \\\"../../../../mixins/events-mixin\\\";\\nimport LocalizeMixin from \\\"../../../../mixins/localize-mixin\\\";\\n/*\\n * @appliesMixin EventsMixin\\n * @appliesMixin LocalizeMixin\\n */\\nclass CloudForgotPassword extends LocalizeMixin(EventsMixin(PolymerElement)) {\\n  static get template() {\\n    return html`\\n      <style include=\\\"iron-flex ha-style\\\">\\n        .content {\\n          padding-bottom: 24px;\\n          direction: ltr;\\n        }\\n\\n        ha-card {\\n          max-width: 600px;\\n          margin: 0 auto;\\n          margin-top: 24px;\\n        }\\n        h1 {\\n          @apply --paper-font-headline;\\n          margin: 0;\\n        }\\n        .error {\\n          color: var(--google-red-500);\\n        }\\n        .card-actions {\\n          display: flex;\\n          justify-content: space-between;\\n          align-items: center;\\n        }\\n        .card-actions a {\\n          color: var(--primary-text-color);\\n        }\\n        [hidden] {\\n          display: none;\\n        }\\n      </style>\\n      <hass-subpage header=[[localize('ui.panel.config.cloud.forgot_password.title')]]>\\n        <div class=\\\"content\\\">\\n          <ha-card header=[[localize('ui.panel.config.cloud.forgot_password.subtitle')]]>\\n            <div class=\\\"card-content\\\">\\n              <p>\\n                [[localize('ui.panel.config.cloud.forgot_password.instructions')]]\\n              </p>\\n              <div class=\\\"error\\\" hidden$=\\\"[[!_error]]\\\">[[_error]]</div>\\n              <paper-input\\n                autofocus=\\\"\\\"\\n                id=\\\"email\\\"\\n                label=\\\"[[localize('ui.panel.config.cloud.forgot_password.email')]]\\\"\\n                value=\\\"{{email}}\\\"\\n                type=\\\"email\\\"\\n                on-keydown=\\\"_keyDown\\\"\\n                error-message=\\\"[[localize('ui.panel.config.cloud.forgot_password.email_error_msg')]]\\\"\\n              ></paper-input>\\n            </div>\\n            <div class=\\\"card-actions\\\">\\n              <ha-progress-button\\n                on-click=\\\"_handleEmailPasswordReset\\\"\\n                progress=\\\"[[_requestInProgress]]\\\"\\n                >[[localize('ui.panel.config.cloud.forgot_password.send_reset_email')]]</ha-progress-button\\n              >\\n            </div>\\n          </ha-card>\\n        </div>\\n      </hass-subpage>\\n    `;\\n  }\\n\\n  static get properties() {\\n    return {\\n      hass: Object,\\n      email: {\\n        type: String,\\n        notify: true,\\n        observer: \\\"_emailChanged\\\",\\n      },\\n      _requestInProgress: {\\n        type: Boolean,\\n        value: false,\\n      },\\n      _error: {\\n        type: String,\\n        value: \\\"\\\",\\n      },\\n    };\\n  }\\n\\n  _emailChanged() {\\n    this._error = \\\"\\\";\\n    this.$.email.invalid = false;\\n  }\\n\\n  _keyDown(ev) {\\n    // validate on enter\\n    if (ev.keyCode === 13) {\\n      this._handleEmailPasswordReset();\\n      ev.preventDefault();\\n    }\\n  }\\n\\n  _handleEmailPasswordReset() {\\n    if (!this.email || !this.email.includes(\\\"@\\\")) {\\n      this.$.email.invalid = true;\\n    }\\n\\n    if (this.$.email.invalid) return;\\n\\n    this._requestInProgress = true;\\n\\n    this.hass\\n      .callApi(\\\"post\\\", \\\"cloud/forgot_password\\\", {\\n        email: this.email,\\n      })\\n      .then(\\n        () => {\\n          this._requestInProgress = false;\\n          this.fire(\\\"cloud-done\\\", {\\n            flashMessage:\\n              \\\"[[localize('ui.panel.config.cloud.forgot_password.check_your_email')]]\\\",\\n          });\\n        },\\n        (err) =>\\n          this.setProperties({\\n            _requestInProgress: false,\\n            _error:\\n              err && err.body && err.body.message\\n                ? err.body.message\\n                : \\\"Unknown error\\\",\\n          })\\n      );\\n  }\\n}\\n\\ncustomElements.define(\\\"cloud-forgot-password\\\", CloudForgotPassword);\\n\"]}","code":"(self.webpackJsonp=self.webpackJsonp||[]).push([[23],{724:function(e,s,a){\"use strict\";a.r(s);a(80);var o=a(4),r=a(29),i=(a(173),a(224),a(148),a(92),a(175)),t=a(171);customElements.define(\"cloud-forgot-password\",class extends(Object(t.a)(Object(i.a)(r.a))){static get template(){return o.a`\n      <style include=\"iron-flex ha-style\">\n        .content {\n          padding-bottom: 24px;\n          direction: ltr;\n        }\n\n        ha-card {\n          max-width: 600px;\n          margin: 0 auto;\n          margin-top: 24px;\n        }\n        h1 {\n          @apply --paper-font-headline;\n          margin: 0;\n        }\n        .error {\n          color: var(--google-red-500);\n        }\n        .card-actions {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        .card-actions a {\n          color: var(--primary-text-color);\n        }\n        [hidden] {\n          display: none;\n        }\n      </style>\n      <hass-subpage header=[[localize('ui.panel.config.cloud.forgot_password.title')]]>\n        <div class=\"content\">\n          <ha-card header=[[localize('ui.panel.config.cloud.forgot_password.subtitle')]]>\n            <div class=\"card-content\">\n              <p>\n                [[localize('ui.panel.config.cloud.forgot_password.instructions')]]\n              </p>\n              <div class=\"error\" hidden$=\"[[!_error]]\">[[_error]]</div>\n              <paper-input\n                autofocus=\"\"\n                id=\"email\"\n                label=\"[[localize('ui.panel.config.cloud.forgot_password.email')]]\"\n                value=\"{{email}}\"\n                type=\"email\"\n                on-keydown=\"_keyDown\"\n                error-message=\"[[localize('ui.panel.config.cloud.forgot_password.email_error_msg')]]\"\n              ></paper-input>\n            </div>\n            <div class=\"card-actions\">\n              <ha-progress-button\n                on-click=\"_handleEmailPasswordReset\"\n                progress=\"[[_requestInProgress]]\"\n                >[[localize('ui.panel.config.cloud.forgot_password.send_reset_email')]]</ha-progress-button\n              >\n            </div>\n          </ha-card>\n        </div>\n      </hass-subpage>\n    `}static get properties(){return{hass:Object,email:{type:String,notify:!0,observer:\"_emailChanged\"},_requestInProgress:{type:Boolean,value:!1},_error:{type:String,value:\"\"}}}_emailChanged(){this._error=\"\",this.$.email.invalid=!1}_keyDown(e){13===e.keyCode&&(this._handleEmailPasswordReset(),e.preventDefault())}_handleEmailPasswordReset(){this.email&&this.email.includes(\"@\")||(this.$.email.invalid=!0),this.$.email.invalid||(this._requestInProgress=!0,this.hass.callApi(\"post\",\"cloud/forgot_password\",{email:this.email}).then(()=>{this._requestInProgress=!1,this.fire(\"cloud-done\",{flashMessage:\"[[localize('ui.panel.config.cloud.forgot_password.check_your_email')]]\"})},e=>this.setProperties({_requestInProgress:!1,_error:e&&e.body&&e.body.message?e.body.message:\"Unknown error\"})))}})}}]);","extractedComments":[]}