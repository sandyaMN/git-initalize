{"version":3,"sources":["webpack:///./src/resources/markdown_worker.ts","webpack:///../src/rpc-wrapper.js","webpack:///./src/components/ha-markdown.ts","webpack:///./src/mixins/localize-mixin.js","webpack:///./src/components/ha-card.ts","webpack:///./src/mixins/events-mixin.js","webpack:///./src/components/ha-relative-time.js","webpack:///./src/common/datetime/relative_time.ts","webpack:///./node_modules/@polymer/paper-tooltip/paper-tooltip.js","webpack:///./src/dialogs/notifications/notification-item-template.ts","webpack:///./src/dialogs/notifications/configurator-notification-item.ts","webpack:///./src/dialogs/notifications/persistent-notification-item.ts","webpack:///./src/dialogs/notifications/notification-item.ts","webpack:///./src/components/ha-paper-icon-button-prev.ts","webpack:///./src/dialogs/notifications/notification-drawer.js"],"names":["addMethods","__webpack_require__","methods","module","exports","w","Worker","p","name","worker","c","callbacks","e","d","data","id","f","error","Object","Error","evt","document","method","Promise","a","b","type","params","customElement","HaMarkdown","property","Boolean","changedProps","_get","_getPrototypeOf","prototype","this","call","markdownWorker","_render","walker","node","regeneratorRuntime","async","_context","prev","next","awrap","renderMarkdown","content","breaks","gfm","tables","allowSvg","innerHTML","sent","_resize","createTreeWalker","nextNode","currentNode","HTMLAnchorElement","host","location","target","rel","addEventListener","stop","fireEvent","_this2","UpdatingElement","dedupingMixin","superClass","_superClass","_class","_classCallCheck","_possibleConstructorReturn","apply","arguments","_inherits","key","get","hass","localize","Function","computed","value","HaCard","css","_templateObject","html","_templateObject2","header","_templateObject3","_templateObject4","LitElement","customElements","define","EventsMixin","detail","options","HaRelativeTime","_this","updateRelative","bind","_assertThisInitialized","LocalizeMixin","PolymerElement","datetime","String","observer","datetimeObj","parsedDateTime","updateInterval","setInterval","clearInterval","newVal","Date","root","dom","relativeTime","__webpack_exports__","tests","langKey","dateObj","timeDesc","length","undefined","delta","compareTime","getTime","tense","Math","abs","i","floor","concat","includeTense","Polymer","_template","is","hostAttributes","role","tabindex","properties","for","manualMode","position","fitToVisibleBounds","offset","Number","marginTop","animationDelay","animationEntry","animationExit","animationConfig","entry","timing","delay","exit","_showing","listeners","webkitAnimationEnd","parentNode","ownerRoot","getOwnerRoot","querySelector","nodeType","Node","DOCUMENT_FRAGMENT_NODE","attached","_findTarget","detached","_removeListeners","playAnimation","show","hide","cancelAnimation","$","tooltip","classList","add","textContent","trim","allChildrenEmpty","effectiveChildren","getEffectiveChildNodes","remove","_getAnimationType","updatePosition","_animationPlaying","_cancelAnimation","_onAnimationFinish","_target","offsetParent","tooltipLeft","tooltipTop","parentRect","getBoundingClientRect","targetRect","thisRect","horizontalCenterOffset","width","verticalCenterOffset","height","targetLeft","left","targetTop","top","window","innerWidth","style","right","max","innerHeight","bottom","_addListeners","listen","_delayChange","newValue","updateStyles","--paper-tooltip-delay-in","_manualModeChanged","_onAnimationEnd","timingDelay","--paper-tooltip-delay-out","unlisten","_decorate","_initialize","_LitElement","F","_LitElement2","HuiNotificationItemTemplate","_getPrototypeOf2","_len","args","Array","_key","kind","static","configurator_notification_item_decorate","HuiConfiguratorNotificationItem","configurator_notification_item_classCallCheck","configurator_notification_item_getPrototypeOf","configurator_notification_item_assertThisInitialized","configurator_notification_item_inherits","decorators","notification","configurator_notification_item_templateObject2","attributes","friendly_name","_handleClick","state","configurator_notification_item_templateObject","entityId","entity_id","persistent_notification_item_decorate","HuiPersistentNotificationItem","persistent_notification_item_classCallCheck","persistent_notification_item_getPrototypeOf","persistent_notification_item_assertThisInitialized","persistent_notification_item_inherits","persistent_notification_item_templateObject2","title","notification_id","message","created_at","_computeTooltip","_handleDismiss","persistent_notification_item_templateObject","callService","toLocaleDateString","language","year","month","day","minute","hour","notification_item_decorate","HuiNotificationItem","notification_item_classCallCheck","notification_item_getPrototypeOf","notification_item_assertThisInitialized","notification_item_inherits","has","notification_item_templateObject2","notification_item_templateObject3","notification_item_templateObject","paperIconButtonClass","HaPaperIconButtonPrev","_paperIconButtonClass","ha_paper_icon_button_prev_classCallCheck","ha_paper_icon_button_prev_possibleConstructorReturn","ha_paper_icon_button_prev_getPrototypeOf","ha_paper_icon_button_prev_inherits","setTimeout","icon","getComputedStyle","direction","HuiNotificationDrawer","_EventsMixin","notification_drawer_classCallCheck","notification_drawer_possibleConstructorReturn","notification_drawer_getPrototypeOf","notification_drawer_inherits","notification_drawer_templateObject","open","notifications","_notificationsBackend","notification_drawer_get","ev","stopPropagation","_unsubNotifications","subscribeNotifications","connection","notificationsBackend","configuratorEntities","keys","states","filter","computeDomain","map","_ref","narrow","setProperty","drawer"],"mappings":"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","file":"chunk.ec849500014c5bac566a.js","sourcesContent":["\n\t\t\t\tvar addMethods = require(\"../../node_modules/workerize-loader/dist/rpc-wrapper.js\")\n\t\t\t\tvar methods = [\"renderMarkdown\"]\n\t\t\t\tmodule.exports = function() {\n\t\t\t\t\tvar w = new Worker(__webpack_public_path__ + \"5355f74b7e8a2647abc2.worker.js\", { name: \"[hash].worker.js\" })\n\t\t\t\t\taddMethods(w, methods)\n\t\t\t\t\t\n\t\t\t\t\treturn w\n\t\t\t\t}\n\t\t\t","export default function addMethods(worker, methods) {\n\tlet c = 0;\n\tlet callbacks = {};\n\tworker.addEventListener('message', (e) => {\n\t\tlet d = e.data;\n\t\tif (d.type!=='RPC') return;\n\t\tif (d.id) {\n\t\t\tlet f = callbacks[d.id];\n\t\t\tif (f) {\n\t\t\t\tdelete callbacks[d.id];\n\t\t\t\tif (d.error) {\n\t\t\t\t\tf[1](Object.assign(Error(d.error.message), d.error));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tf[0](d.result);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tlet evt = document.createEvent('Event');\n\t\t\tevt.initEvent(d.method, false, false);\n\t\t\tevt.data = d.params;\n\t\t\tworker.dispatchEvent(evt);\n\t\t}\n\t});\n\tmethods.forEach( method => {\n\t\tworker[method] = (...params) => new Promise( (a, b) => {\n\t\t\tlet id = ++c;\n\t\t\tcallbacks[id] = [a, b];\n\t\t\tworker.postMessage({ type: 'RPC', id, method, params });\n\t\t});\n\t});\n}\n","import { UpdatingElement, property, customElement } from \"lit-element\";\n// eslint-disable-next-line import/no-webpack-loader-syntax\n// @ts-ignore\n// tslint:disable-next-line: no-implicit-dependencies\nimport markdownWorker from \"workerize-loader!../resources/markdown_worker\";\nimport { fireEvent } from \"../common/dom/fire_event\";\n\nlet worker: any | undefined;\n\n@customElement(\"ha-markdown\")\nclass HaMarkdown extends UpdatingElement {\n  @property() public content = \"\";\n  @property({ type: Boolean }) public allowSvg = false;\n\n  protected update(changedProps) {\n    super.update(changedProps);\n\n    if (!worker) {\n      worker = markdownWorker();\n    }\n\n    this._render();\n  }\n\n  private async _render() {\n    this.innerHTML = await worker.renderMarkdown(\n      this.content,\n      {\n        breaks: true,\n        gfm: true,\n        tables: true,\n      },\n      {\n        allowSvg: this.allowSvg,\n      }\n    );\n\n    this._resize();\n\n    const walker = document.createTreeWalker(\n      this,\n      1 /* SHOW_ELEMENT */,\n      null,\n      false\n    );\n\n    while (walker.nextNode()) {\n      const node = walker.currentNode;\n\n      // Open external links in a new window\n      if (\n        node instanceof HTMLAnchorElement &&\n        node.host !== document.location.host\n      ) {\n        node.target = \"_blank\";\n\n        // protect referrer on external links and deny window.opener access for security reasons\n        // (see https://mathiasbynens.github.io/rel-noopener/)\n        node.rel = \"noreferrer noopener\";\n\n        // Fire a resize event when images loaded to notify content resized\n      } else if (node) {\n        node.addEventListener(\"load\", this._resize);\n      }\n    }\n  }\n\n  private _resize = () => fireEvent(this, \"iron-resize\");\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-markdown\": HaMarkdown;\n  }\n}\n","import { dedupingMixin } from \"@polymer/polymer/lib/utils/mixin\";\n/**\n * Polymer Mixin to enable a localize function powered by language/resources from hass object.\n *\n * @polymerMixin\n */\nexport default dedupingMixin(\n  (superClass) =>\n    class extends superClass {\n      static get properties() {\n        return {\n          hass: Object,\n\n          /**\n           * Translates a string to the current `language`. Any parameters to the\n           * string should be passed in order, as follows:\n           * `localize(stringKey, param1Name, param1Value, param2Name, param2Value)`\n           */\n          localize: {\n            type: Function,\n            computed: \"__computeLocalize(hass.localize)\",\n          },\n        };\n      }\n\n      __computeLocalize(localize) {\n        return localize;\n      }\n    }\n);\n","import {\n  css,\n  CSSResult,\n  html,\n  LitElement,\n  property,\n  TemplateResult,\n} from \"lit-element\";\n\nclass HaCard extends LitElement {\n  @property() public header?: string;\n\n  static get styles(): CSSResult {\n    return css`\n      :host {\n        background: var(\n          --ha-card-background,\n          var(--paper-card-background-color, white)\n        );\n        border-radius: var(--ha-card-border-radius, 2px);\n        box-shadow: var(\n          --ha-card-box-shadow,\n          0 2px 2px 0 rgba(0, 0, 0, 0.14),\n          0 1px 5px 0 rgba(0, 0, 0, 0.12),\n          0 3px 1px -2px rgba(0, 0, 0, 0.2)\n        );\n        color: var(--primary-text-color);\n        display: block;\n        transition: all 0.3s ease-out;\n        position: relative;\n      }\n\n      .card-header,\n      :host ::slotted(.card-header) {\n        color: var(--ha-card-header-color, --primary-text-color);\n        font-family: var(--ha-card-header-font-family, inherit);\n        font-size: var(--ha-card-header-font-size, 24px);\n        letter-spacing: -0.012em;\n        line-height: 32px;\n        padding: 24px 16px 16px;\n        display: block;\n      }\n\n      :host ::slotted(.card-content:not(:first-child)),\n      slot:not(:first-child)::slotted(.card-content) {\n        padding-top: 0px;\n        margin-top: -8px;\n      }\n\n      :host ::slotted(.card-content) {\n        padding: 16px;\n      }\n\n      :host ::slotted(.card-actions) {\n        border-top: 1px solid #e8e8e8;\n        padding: 5px 16px;\n      }\n    `;\n  }\n\n  protected render(): TemplateResult {\n    return html`\n      ${this.header\n        ? html`\n            <div class=\"card-header\">${this.header}</div>\n          `\n        : html``}\n      <slot></slot>\n    `;\n  }\n}\n\ncustomElements.define(\"ha-card\", HaCard);\n","import { dedupingMixin } from \"@polymer/polymer/lib/utils/mixin\";\n\nimport { fireEvent } from \"../common/dom/fire_event\";\n\n// Polymer legacy event helpers used courtesy of the Polymer project.\n//\n// Copyright (c) 2017 The Polymer Authors. All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//    * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//    * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//    * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n/* @polymerMixin */\nexport const EventsMixin = dedupingMixin(\n  (superClass) =>\n    class extends superClass {\n      /**\n   * Dispatches a custom event with an optional detail value.\n   *\n   * @param {string} type Name of event type.\n   * @param {*=} detail Detail value containing event-specific\n   *   payload.\n   * @param {{ bubbles: (boolean|undefined),\n               cancelable: (boolean|undefined),\n                composed: (boolean|undefined) }=}\n    *  options Object specifying options.  These may include:\n    *  `bubbles` (boolean, defaults to `true`),\n    *  `cancelable` (boolean, defaults to false), and\n    *  `node` on which to fire the event (HTMLElement, defaults to `this`).\n    * @return {Event} The new event that was fired.\n    */\n      fire(type, detail, options) {\n        options = options || {};\n        return fireEvent(options.node || this, type, detail, options);\n      }\n    }\n);\n","import { dom } from \"@polymer/polymer/lib/legacy/polymer.dom\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport relativeTime from \"../common/datetime/relative_time\";\n\nimport LocalizeMixin from \"../mixins/localize-mixin\";\n\n/*\n * @appliesMixin LocalizeMixin\n */\nclass HaRelativeTime extends LocalizeMixin(PolymerElement) {\n  static get properties() {\n    return {\n      hass: Object,\n      datetime: {\n        type: String,\n        observer: \"datetimeChanged\",\n      },\n\n      datetimeObj: {\n        type: Object,\n        observer: \"datetimeObjChanged\",\n      },\n\n      parsedDateTime: Object,\n    };\n  }\n\n  constructor() {\n    super();\n    this.updateRelative = this.updateRelative.bind(this);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    // update every 60 seconds\n    this.updateInterval = setInterval(this.updateRelative, 60000);\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    clearInterval(this.updateInterval);\n  }\n\n  datetimeChanged(newVal) {\n    this.parsedDateTime = newVal ? new Date(newVal) : null;\n\n    this.updateRelative();\n  }\n\n  datetimeObjChanged(newVal) {\n    this.parsedDateTime = newVal;\n\n    this.updateRelative();\n  }\n\n  updateRelative() {\n    const root = dom(this);\n    if (!this.parsedDateTime) {\n      root.innerHTML = this.localize(\"ui.components.relative_time.never\");\n    } else {\n      root.innerHTML = relativeTime(this.parsedDateTime, this.localize);\n    }\n  }\n}\n\ncustomElements.define(\"ha-relative-time\", HaRelativeTime);\n","import { LocalizeFunc } from \"../translations/localize\";\n\n/**\n * Calculate a string representing a date object as relative time from now.\n *\n * Example output: 5 minutes ago, in 3 days.\n */\nconst tests = [60, 60, 24, 7];\nconst langKey = [\"second\", \"minute\", \"hour\", \"day\"];\n\nexport default function relativeTime(\n  dateObj: Date,\n  localize: LocalizeFunc,\n  options: {\n    compareTime?: Date;\n    includeTense?: boolean;\n  } = {}\n): string {\n  const compareTime = options.compareTime || new Date();\n  let delta = (compareTime.getTime() - dateObj.getTime()) / 1000;\n  const tense = delta >= 0 ? \"past\" : \"future\";\n  delta = Math.abs(delta);\n\n  let timeDesc;\n\n  for (let i = 0; i < tests.length; i++) {\n    if (delta < tests[i]) {\n      delta = Math.floor(delta);\n      timeDesc = localize(\n        `ui.components.relative_time.duration.${langKey[i]}`,\n        \"count\",\n        delta\n      );\n      break;\n    }\n\n    delta /= tests[i];\n  }\n\n  if (timeDesc === undefined) {\n    delta = Math.floor(delta);\n    timeDesc = localize(\n      \"ui.components.relative_time.duration.week\",\n      \"count\",\n      delta\n    );\n  }\n\n  return options.includeTense === false\n    ? timeDesc\n    : localize(`ui.components.relative_time.${tense}`, \"time\", timeDesc);\n}\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {dom} from '@polymer/polymer/lib/legacy/polymer.dom.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\n/**\nMaterial design:\n[Tooltips](https://www.google.com/design/spec/components/tooltips.html)\n`<paper-tooltip>` is a label that appears on hover and focus when the user\nhovers over an element with the cursor or with the keyboard. It will be centered\nto an anchor element specified in the `for` attribute, or, if that doesn't\nexist, centered to the parent node containing it.\nExample:\n    <div style=\"display:inline-block\">\n      <button>Click me!</button>\n      <paper-tooltip>Tooltip text</paper-tooltip>\n    </div>\n    <div>\n      <button id=\"btn\">Click me!</button>\n      <paper-tooltip for=\"btn\">Tooltip text</paper-tooltip>\n    </div>\nThe tooltip can be positioned on the top|bottom|left|right of the anchor using\nthe `position` attribute. The default position is bottom.\n    <paper-tooltip for=\"btn\" position=\"left\">Tooltip text</paper-tooltip>\n    <paper-tooltip for=\"btn\" position=\"top\">Tooltip text</paper-tooltip>\n\n### Styling\nThe following custom properties and mixins are available for styling:\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-tooltip-background` | The background color of the tooltip | `#616161`\n`--paper-tooltip-opacity` | The opacity of the tooltip | `0.9`\n`--paper-tooltip-text-color` | The text color of the tooltip | `white`\n`--paper-tooltip` | Mixin applied to the tooltip | `{}`\n`--paper-tooltip-delay-in` | Delay before tooltip starts to fade in | `500`\n`--paper-tooltip-delay-out` | Delay before tooltip starts to fade out | `0`\n`--paper-tooltip-duration-in` | Timing for animation when showing tooltip | `500`\n`--paper-tooltip-duration-out` | Timing for animation when hiding tooltip | `0`\n`--paper-tooltip-animation` | Mixin applied to the tooltip animation | `{}`\n@group Paper Elements\n@element paper-tooltip\n@demo demo/index.html\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n        position: absolute;\n        outline: none;\n        z-index: 1002;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        -webkit-user-select: none;\n        user-select: none;\n        cursor: default;\n      }\n\n      #tooltip {\n        display: block;\n        outline: none;\n        @apply --paper-font-common-base;\n        font-size: 10px;\n        line-height: 1;\n        background-color: var(--paper-tooltip-background, #616161);\n        color: var(--paper-tooltip-text-color, white);\n        padding: 8px;\n        border-radius: 2px;\n        @apply --paper-tooltip;\n      }\n\n      @keyframes keyFrameScaleUp {\n        0% {\n          transform: scale(0.0);\n        }\n        100% {\n          transform: scale(1.0);\n        }\n      }\n\n      @keyframes keyFrameScaleDown {\n        0% {\n          transform: scale(1.0);\n        }\n        100% {\n          transform: scale(0.0);\n        }\n      }\n\n      @keyframes keyFrameFadeInOpacity {\n        0% {\n          opacity: 0;\n        }\n        100% {\n          opacity: var(--paper-tooltip-opacity, 0.9);\n        }\n      }\n\n      @keyframes keyFrameFadeOutOpacity {\n        0% {\n          opacity: var(--paper-tooltip-opacity, 0.9);\n        }\n        100% {\n          opacity: 0;\n        }\n      }\n\n      @keyframes keyFrameSlideDownIn {\n        0% {\n          transform: translateY(-2000px);\n          opacity: 0;\n        }\n        10% {\n          opacity: 0.2;\n        }\n        100% {\n          transform: translateY(0);\n          opacity: var(--paper-tooltip-opacity, 0.9);\n        }\n      }\n\n      @keyframes keyFrameSlideDownOut {\n        0% {\n          transform: translateY(0);\n          opacity: var(--paper-tooltip-opacity, 0.9);\n        }\n        10% {\n          opacity: 0.2;\n        }\n        100% {\n          transform: translateY(-2000px);\n          opacity: 0;\n        }\n      }\n\n      .fade-in-animation {\n        opacity: 0;\n        animation-delay: var(--paper-tooltip-delay-in, 500ms);\n        animation-name: keyFrameFadeInOpacity;\n        animation-iteration-count: 1;\n        animation-timing-function: ease-in;\n        animation-duration: var(--paper-tooltip-duration-in, 500ms);\n        animation-fill-mode: forwards;\n        @apply --paper-tooltip-animation;\n      }\n\n      .fade-out-animation {\n        opacity: var(--paper-tooltip-opacity, 0.9);\n        animation-delay: var(--paper-tooltip-delay-out, 0ms);\n        animation-name: keyFrameFadeOutOpacity;\n        animation-iteration-count: 1;\n        animation-timing-function: ease-in;\n        animation-duration: var(--paper-tooltip-duration-out, 500ms);\n        animation-fill-mode: forwards;\n        @apply --paper-tooltip-animation;\n      }\n\n      .scale-up-animation {\n        transform: scale(0);\n        opacity: var(--paper-tooltip-opacity, 0.9);\n        animation-delay: var(--paper-tooltip-delay-in, 500ms);\n        animation-name: keyFrameScaleUp;\n        animation-iteration-count: 1;\n        animation-timing-function: ease-in;\n        animation-duration: var(--paper-tooltip-duration-in, 500ms);\n        animation-fill-mode: forwards;\n        @apply --paper-tooltip-animation;\n      }\n\n      .scale-down-animation {\n        transform: scale(1);\n        opacity: var(--paper-tooltip-opacity, 0.9);\n        animation-delay: var(--paper-tooltip-delay-out, 500ms);\n        animation-name: keyFrameScaleDown;\n        animation-iteration-count: 1;\n        animation-timing-function: ease-in;\n        animation-duration: var(--paper-tooltip-duration-out, 500ms);\n        animation-fill-mode: forwards;\n        @apply --paper-tooltip-animation;\n      }\n\n      .slide-down-animation {\n        transform: translateY(-2000px);\n        opacity: 0;\n        animation-delay: var(--paper-tooltip-delay-out, 500ms);\n        animation-name: keyFrameSlideDownIn;\n        animation-iteration-count: 1;\n        animation-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);\n        animation-duration: var(--paper-tooltip-duration-out, 500ms);\n        animation-fill-mode: forwards;\n        @apply --paper-tooltip-animation;\n      }\n\n      .slide-down-animation-out {\n        transform: translateY(0);\n        opacity: var(--paper-tooltip-opacity, 0.9);\n        animation-delay: var(--paper-tooltip-delay-out, 500ms);\n        animation-name: keyFrameSlideDownOut;\n        animation-iteration-count: 1;\n        animation-timing-function: cubic-bezier(0.4, 0.0, 1, 1);\n        animation-duration: var(--paper-tooltip-duration-out, 500ms);\n        animation-fill-mode: forwards;\n        @apply --paper-tooltip-animation;\n      }\n\n      .cancel-animation {\n        animation-delay: -30s !important;\n      }\n\n      /* Thanks IE 10. */\n\n      .hidden {\n        display: none !important;\n      }\n    </style>\n\n    <div id=\"tooltip\" class=\"hidden\">\n      <slot></slot>\n    </div>\n`,\n\n  is: 'paper-tooltip',\n  hostAttributes: {role: 'tooltip', tabindex: -1},\n\n  properties: {\n    /**\n     * The id of the element that the tooltip is anchored to. This element\n     * must be a sibling of the tooltip. If this property is not set,\n     * then the tooltip will be centered to the parent node containing it.\n     */\n    for: {type: String, observer: '_findTarget'},\n    /**\n     * Set this to true if you want to manually control when the tooltip\n     * is shown or hidden.\n     */\n    manualMode: {type: Boolean, value: false, observer: '_manualModeChanged'},\n    /**\n     * Positions the tooltip to the top, right, bottom, left of its content.\n     */\n    position: {type: String, value: 'bottom'},\n    /**\n     * If true, no parts of the tooltip will ever be shown offscreen.\n     */\n    fitToVisibleBounds: {type: Boolean, value: false},\n    /**\n     * The spacing between the top of the tooltip and the element it is\n     * anchored to.\n     */\n    offset: {type: Number, value: 14},\n    /**\n     * This property is deprecated, but left over so that it doesn't\n     * break exiting code. Please use `offset` instead. If both `offset` and\n     * `marginTop` are provided, `marginTop` will be ignored.\n     * @deprecated since version 1.0.3\n     */\n    marginTop: {type: Number, value: 14},\n    /**\n     * The delay that will be applied before the `entry` animation is\n     * played when showing the tooltip.\n     */\n    animationDelay: {type: Number, value: 500, observer: '_delayChange'},\n    /**\n     * The animation that will be played on entry.  This replaces the\n     * deprecated animationConfig.  Entries here will override the\n     * animationConfig settings.  You can enter your own animation\n     * by setting it to the css class name.\n     */\n    animationEntry: {type: String, value: ''},\n    /**\n     * The animation that will be played on exit.  This replaces the\n     * deprecated animationConfig.  Entries here will override the\n     * animationConfig settings.  You can enter your own animation\n     * by setting it to the css class name.\n     */\n    animationExit: {type: String, value: ''},\n    /**\n     * This property is deprecated.  Use --paper-tooltip-animation to change the\n     * animation. The entry and exit animations that will be played when showing\n     * and hiding the tooltip. If you want to override this, you must ensure\n     * that your animationConfig has the exact format below.\n     * @deprecated since version\n     *\n     * The entry and exit animations that will be played when showing and\n     * hiding the tooltip. If you want to override this, you must ensure\n     * that your animationConfig has the exact format below.\n     */\n    animationConfig: {\n      type: Object,\n      value: function() {\n        return {\n          'entry':\n              [{name: 'fade-in-animation', node: this, timing: {delay: 0}}],\n              'exit': [{name: 'fade-out-animation', node: this}]\n        }\n      }\n    },\n    _showing: {type: Boolean, value: false}\n  },\n\n  listeners: {\n    'webkitAnimationEnd': '_onAnimationEnd',\n  },\n\n  /**\n   * Returns the target element that this tooltip is anchored to. It is\n   * either the element given by the `for` attribute, or the immediate parent\n   * of the tooltip.\n   *\n   * @type {Node}\n   */\n  get target() {\n    var parentNode = dom(this).parentNode;\n    // If the parentNode is a document fragment, then we need to use the host.\n    var ownerRoot = dom(this).getOwnerRoot();\n    var target;\n    if (this.for) {\n      target = dom(ownerRoot).querySelector('#' + this.for);\n    } else {\n      target = parentNode.nodeType == Node.DOCUMENT_FRAGMENT_NODE ?\n          ownerRoot.host :\n          parentNode;\n    }\n    return target;\n  },\n\n  /**\n   * @return {void}\n   */\n  attached: function() {\n    this._findTarget();\n  },\n\n  /**\n   * @return {void}\n   */\n  detached: function() {\n    if (!this.manualMode)\n      this._removeListeners();\n  },\n\n  /**\n   * Replaces Neon-Animation playAnimation - just calls show and hide.\n   * @deprecated Use show and hide instead.\n   * @param {string} type Either `entry` or `exit`\n   */\n  playAnimation: function(type) {\n    if (type === 'entry') {\n      this.show();\n    } else if (type === 'exit') {\n      this.hide();\n    }\n  },\n\n  /**\n   * Cancels the animation and either fully shows or fully hides tooltip\n   */\n  cancelAnimation: function() {\n    // Short-cut and cancel all animations and hide\n    this.$.tooltip.classList.add('cancel-animation');\n  },\n\n  /**\n   * Shows the tooltip programatically\n   * @return {void}\n   */\n  show: function() {\n    // If the tooltip is already showing, there's nothing to do.\n    if (this._showing)\n      return;\n\n    if (dom(this).textContent.trim() === '') {\n      // Check if effective children are also empty\n      var allChildrenEmpty = true;\n      var effectiveChildren = dom(this).getEffectiveChildNodes();\n      for (var i = 0; i < effectiveChildren.length; i++) {\n        if (effectiveChildren[i].textContent.trim() !== '') {\n          allChildrenEmpty = false;\n          break;\n        }\n      }\n      if (allChildrenEmpty) {\n        return;\n      }\n    }\n\n    this._showing = true;\n    this.$.tooltip.classList.remove('hidden');\n    this.$.tooltip.classList.remove('cancel-animation');\n    this.$.tooltip.classList.remove(this._getAnimationType('exit'));\n    this.updatePosition();\n    this._animationPlaying = true;\n    this.$.tooltip.classList.add(this._getAnimationType('entry'));\n  },\n\n  /**\n   * Hides the tooltip programatically\n   * @return {void}\n   */\n  hide: function() {\n    // If the tooltip is already hidden, there's nothing to do.\n    if (!this._showing) {\n      return;\n    }\n\n    // If the entry animation is still playing, don't try to play the exit\n    // animation since this will reset the opacity to 1. Just end the animation.\n    if (this._animationPlaying) {\n      this._showing = false;\n      this._cancelAnimation();\n      return;\n    } else {\n      // Play Exit Animation\n      this._onAnimationFinish();\n    }\n\n    this._showing = false;\n    this._animationPlaying = true;\n  },\n\n  /**\n   * @return {void}\n   */\n  updatePosition: function() {\n    if (!this._target || !this.offsetParent)\n      return;\n    var offset = this.offset;\n    // If a marginTop has been provided by the user (pre 1.0.3), use it.\n    if (this.marginTop != 14 && this.offset == 14)\n      offset = this.marginTop;\n    var parentRect = this.offsetParent.getBoundingClientRect();\n    var targetRect = this._target.getBoundingClientRect();\n    var thisRect = this.getBoundingClientRect();\n    var horizontalCenterOffset = (targetRect.width - thisRect.width) / 2;\n    var verticalCenterOffset = (targetRect.height - thisRect.height) / 2;\n    var targetLeft = targetRect.left - parentRect.left;\n    var targetTop = targetRect.top - parentRect.top;\n    var tooltipLeft, tooltipTop;\n    switch (this.position) {\n      case 'top':\n        tooltipLeft = targetLeft + horizontalCenterOffset;\n        tooltipTop = targetTop - thisRect.height - offset;\n        break;\n      case 'bottom':\n        tooltipLeft = targetLeft + horizontalCenterOffset;\n        tooltipTop = targetTop + targetRect.height + offset;\n        break;\n      case 'left':\n        tooltipLeft = targetLeft - thisRect.width - offset;\n        tooltipTop = targetTop + verticalCenterOffset;\n        break;\n      case 'right':\n        tooltipLeft = targetLeft + targetRect.width + offset;\n        tooltipTop = targetTop + verticalCenterOffset;\n        break;\n    }\n    // TODO(noms): This should use IronFitBehavior if possible.\n    if (this.fitToVisibleBounds) {\n      // Clip the left/right side\n      if (parentRect.left + tooltipLeft + thisRect.width > window.innerWidth) {\n        this.style.right = '0px';\n        this.style.left = 'auto';\n      } else {\n        this.style.left = Math.max(0, tooltipLeft) + 'px';\n        this.style.right = 'auto';\n      }\n      // Clip the top/bottom side.\n      if (parentRect.top + tooltipTop + thisRect.height > window.innerHeight) {\n        this.style.bottom = (parentRect.height - targetTop + offset) + 'px';\n        this.style.top = 'auto';\n      } else {\n        this.style.top = Math.max(-parentRect.top, tooltipTop) + 'px';\n        this.style.bottom = 'auto';\n      }\n    } else {\n      this.style.left = tooltipLeft + 'px';\n      this.style.top = tooltipTop + 'px';\n    }\n  },\n\n  _addListeners: function() {\n    if (this._target) {\n      this.listen(this._target, 'mouseenter', 'show');\n      this.listen(this._target, 'focus', 'show');\n      this.listen(this._target, 'mouseleave', 'hide');\n      this.listen(this._target, 'blur', 'hide');\n      this.listen(this._target, 'tap', 'hide');\n    }\n    this.listen(this.$.tooltip, 'animationend', '_onAnimationEnd');\n    this.listen(this, 'mouseenter', 'hide');\n  },\n\n  _findTarget: function() {\n    if (!this.manualMode)\n      this._removeListeners();\n    this._target = this.target;\n    if (!this.manualMode)\n      this._addListeners();\n  },\n\n  _delayChange: function(newValue) {\n    // Only Update delay if different value set\n    if (newValue !== 500) {\n      this.updateStyles({'--paper-tooltip-delay-in': newValue + 'ms'});\n    }\n  },\n\n  _manualModeChanged: function() {\n    if (this.manualMode)\n      this._removeListeners();\n    else\n      this._addListeners();\n  },\n\n  _cancelAnimation: function() {\n    // Short-cut and cancel all animations and hide\n    this.$.tooltip.classList.remove(this._getAnimationType('entry'));\n    this.$.tooltip.classList.remove(this._getAnimationType('exit'));\n    this.$.tooltip.classList.remove('cancel-animation');\n    this.$.tooltip.classList.add('hidden');\n  },\n\n  _onAnimationFinish: function() {\n    if (this._showing) {\n      this.$.tooltip.classList.remove(this._getAnimationType('entry'));\n      this.$.tooltip.classList.remove('cancel-animation');\n      this.$.tooltip.classList.add(this._getAnimationType('exit'));\n    }\n  },\n\n  _onAnimationEnd: function() {\n    // If no longer showing add class hidden to completely hide tooltip\n    this._animationPlaying = false;\n    if (!this._showing) {\n      this.$.tooltip.classList.remove(this._getAnimationType('exit'));\n      this.$.tooltip.classList.add('hidden');\n    }\n  },\n\n  _getAnimationType: function(type) {\n    // These properties have priority over animationConfig values\n    if ((type === 'entry') && (this.animationEntry !== '')) {\n      return this.animationEntry;\n    }\n    if ((type === 'exit') && (this.animationExit !== '')) {\n      return this.animationExit;\n    }\n    // If no results then return the legacy value from animationConfig\n    if (this.animationConfig[type] &&\n        typeof this.animationConfig[type][0].name === 'string') {\n      // Checking Timing and Update if necessary - Legacy for animationConfig\n      if (this.animationConfig[type][0].timing &&\n          this.animationConfig[type][0].timing.delay &&\n          this.animationConfig[type][0].timing.delay !== 0) {\n        var timingDelay = this.animationConfig[type][0].timing.delay;\n        // Has Timing Change - Update CSS\n        if (type === 'entry') {\n          this.updateStyles({'--paper-tooltip-delay-in': timingDelay + 'ms'});\n        } else if (type === 'exit') {\n          this.updateStyles({'--paper-tooltip-delay-out': timingDelay + 'ms'});\n        }\n      }\n      return this.animationConfig[type][0].name;\n    }\n  },\n\n  _removeListeners: function() {\n    if (this._target) {\n      this.unlisten(this._target, 'mouseenter', 'show');\n      this.unlisten(this._target, 'focus', 'show');\n      this.unlisten(this._target, 'mouseleave', 'hide');\n      this.unlisten(this._target, 'blur', 'hide');\n      this.unlisten(this._target, 'tap', 'hide');\n    }\n    this.unlisten(this.$.tooltip, 'animationend', '_onAnimationEnd');\n    this.unlisten(this, 'mouseenter', 'hide');\n  }\n});\n","import {\n  html,\n  LitElement,\n  TemplateResult,\n  customElement,\n  css,\n  CSSResult,\n} from \"lit-element\";\n\nimport \"../../components/ha-card\";\n\n@customElement(\"notification-item-template\")\nexport class HuiNotificationItemTemplate extends LitElement {\n  protected render(): TemplateResult | void {\n    return html`\n      <ha-card>\n        <div class=\"header\"><slot name=\"header\"></slot></div>\n        <div class=\"contents\"><slot></slot></div>\n        <div class=\"actions\"><slot name=\"actions\"></slot></div>\n      </ha-card>\n    `;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      .contents {\n        padding: 16px;\n        -ms-user-select: text;\n        -webkit-user-select: text;\n        -moz-user-select: text;\n        user-select: text;\n      }\n\n      ha-card .header {\n        /* start paper-font-headline style */\n        font-family: \"Roboto\", \"Noto\", sans-serif;\n        -webkit-font-smoothing: antialiased; /* OS X subpixel AA bleed bug */\n        text-rendering: optimizeLegibility;\n        font-size: 24px;\n        font-weight: 400;\n        letter-spacing: -0.012em;\n        line-height: 32px;\n        /* end paper-font-headline style */\n\n        color: var(--primary-text-color);\n        padding: 16px 16px 0;\n      }\n\n      .actions {\n        border-top: 1px solid #e8e8e8;\n        padding: 5px 16px;\n      }\n\n      ::slotted(.primary) {\n        color: var(--primary-color);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"notification-item-template\": HuiNotificationItemTemplate;\n  }\n}\n","import {\n  html,\n  LitElement,\n  TemplateResult,\n  property,\n  customElement,\n} from \"lit-element\";\nimport \"@material/mwc-button\";\n\nimport \"./notification-item-template\";\n\nimport { HomeAssistant } from \"../../types\";\nimport { fireEvent } from \"../../common/dom/fire_event\";\nimport { PersitentNotificationEntity } from \"../../data/persistent_notification\";\n\n@customElement(\"configurator-notification-item\")\nexport class HuiConfiguratorNotificationItem extends LitElement {\n  @property() public hass?: HomeAssistant;\n\n  @property() public notification?: PersitentNotificationEntity;\n\n  protected render(): TemplateResult | void {\n    if (!this.hass || !this.notification) {\n      return html``;\n    }\n\n    return html`\n      <notification-item-template>\n        <span slot=\"header\">${this.hass.localize(\"domain.configurator\")}</span>\n\n        <div>\n          ${this.hass.localize(\n            \"ui.notification_drawer.click_to_configure\",\n            \"entity\",\n            this.notification.attributes.friendly_name\n          )}\n        </div>\n\n        <mwc-button slot=\"actions\" @click=\"${this._handleClick}\"\n          >${this.hass.localize(\n            `state.configurator.${this.notification.state}`\n          )}</mwc-button\n        >\n      </notification-item-template>\n    `;\n  }\n\n  private _handleClick(): void {\n    fireEvent(this, \"hass-more-info\", {\n      entityId: this.notification!.entity_id,\n    });\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"configurator-notification-item\": HuiConfiguratorNotificationItem;\n  }\n}\n","import {\n  html,\n  LitElement,\n  TemplateResult,\n  property,\n  customElement,\n  css,\n  CSSResult,\n} from \"lit-element\";\nimport \"@material/mwc-button\";\nimport \"@polymer/paper-tooltip/paper-tooltip\";\n\nimport \"../../components/ha-relative-time\";\nimport \"../../components/ha-markdown\";\nimport \"./notification-item-template\";\n\nimport { HomeAssistant } from \"../../types\";\nimport { PersistentNotification } from \"../../data/persistent_notification\";\n\n@customElement(\"persistent-notification-item\")\nexport class HuiPersistentNotificationItem extends LitElement {\n  @property() public hass?: HomeAssistant;\n\n  @property() public notification?: PersistentNotification;\n\n  protected render(): TemplateResult | void {\n    if (!this.hass || !this.notification) {\n      return html``;\n    }\n\n    return html`\n      <notification-item-template>\n        <span slot=\"header\">\n          ${this.notification.title || this.notification.notification_id}\n        </span>\n\n        <ha-markdown content=\"${this.notification.message}\"></ha-markdown>\n\n        <div class=\"time\">\n          <span>\n            <ha-relative-time\n              .hass=\"${this.hass}\"\n              .datetime=\"${this.notification.created_at}\"\n            ></ha-relative-time>\n            <paper-tooltip\n              >${this._computeTooltip(\n                this.hass,\n                this.notification\n              )}</paper-tooltip\n            >\n          </span>\n        </div>\n\n        <mwc-button slot=\"actions\" @click=\"${this._handleDismiss}\"\n          >${this.hass.localize(\n            \"ui.card.persistent_notification.dismiss\"\n          )}</mwc-button\n        >\n      </notification-item-template>\n    `;\n  }\n\n  static get styles(): CSSResult {\n    return css`\n      .time {\n        display: flex;\n        justify-content: flex-end;\n        margin-top: 6px;\n      }\n      ha-relative-time {\n        color: var(--secondary-text-color);\n      }\n      a {\n        color: var(--primary-color);\n      }\n      ha-markdown {\n        overflow-wrap: break-word;\n      }\n    `;\n  }\n\n  private _handleDismiss(): void {\n    this.hass!.callService(\"persistent_notification\", \"dismiss\", {\n      notification_id: this.notification!.notification_id,\n    });\n  }\n\n  private _computeTooltip(\n    hass: HomeAssistant,\n    notification: PersistentNotification\n  ): string | undefined {\n    if (!hass || !notification) {\n      return undefined;\n    }\n\n    const d = new Date(notification.created_at!);\n    return d.toLocaleDateString(hass.language, {\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n      minute: \"numeric\",\n      hour: \"numeric\",\n    });\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"persistent-notification-item\": HuiPersistentNotificationItem;\n  }\n}\n","import {\n  LitElement,\n  property,\n  customElement,\n  PropertyValues,\n  TemplateResult,\n  html,\n} from \"lit-element\";\nimport { HassEntity } from \"home-assistant-js-websocket\";\n\nimport \"./configurator-notification-item\";\nimport \"./persistent-notification-item\";\n\nimport { HomeAssistant } from \"../../types\";\nimport { PersistentNotification } from \"../../data/persistent_notification\";\n\n@customElement(\"notification-item\")\nexport class HuiNotificationItem extends LitElement {\n  @property() public hass?: HomeAssistant;\n\n  @property() public notification?: HassEntity | PersistentNotification;\n\n  protected shouldUpdate(changedProps: PropertyValues): boolean {\n    if (!this.hass || !this.notification || changedProps.has(\"notification\")) {\n      return true;\n    }\n\n    return false;\n  }\n\n  protected render(): TemplateResult | void {\n    if (!this.hass || !this.notification) {\n      return html``;\n    }\n\n    return \"entity_id\" in this.notification\n      ? html`\n          <configurator-notification-item\n            .hass=\"${this.hass}\"\n            .notification=\"${this.notification}\"\n          ></configurator-notification-item>\n        `\n      : html`\n          <persistent-notification-item\n            .hass=\"${this.hass}\"\n            .notification=\"${this.notification}\"\n          ></persistent-notification-item>\n        `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"notification-item\": HuiNotificationItem;\n  }\n}\n","import \"@polymer/paper-icon-button/paper-icon-button\";\nimport { Constructor } from \"../types\";\n// Not duplicate, this is for typing.\n// tslint:disable-next-line\nimport { PaperIconButtonElement } from \"@polymer/paper-icon-button/paper-icon-button\";\n\nconst paperIconButtonClass = customElements.get(\n  \"paper-icon-button\"\n) as Constructor<PaperIconButtonElement>;\n\nexport class HaPaperIconButtonPrev extends paperIconButtonClass {\n  public connectedCallback() {\n    super.connectedCallback();\n\n    // wait to check for direction since otherwise direction is wrong even though top level is RTL\n    setTimeout(() => {\n      this.icon =\n        window.getComputedStyle(this).direction === \"ltr\"\n          ? \"hass:chevron-left\"\n          : \"hass:chevron-right\";\n    }, 100);\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-paper-icon-button-prev\": HaPaperIconButtonPrev;\n  }\n}\n\ncustomElements.define(\"ha-paper-icon-button-prev\", HaPaperIconButtonPrev);\n","import \"@polymer/app-layout/app-drawer/app-drawer\";\nimport \"@material/mwc-button\";\nimport \"@polymer/paper-icon-button/paper-icon-button\";\nimport \"@polymer/app-layout/app-toolbar/app-toolbar\";\n\nimport { html } from \"@polymer/polymer/lib/utils/html-tag\";\nimport { PolymerElement } from \"@polymer/polymer/polymer-element\";\n\nimport \"./notification-item\";\nimport \"../../components/ha-paper-icon-button-prev\";\n\nimport { EventsMixin } from \"../../mixins/events-mixin\";\nimport LocalizeMixin from \"../../mixins/localize-mixin\";\nimport { subscribeNotifications } from \"../../data/persistent_notification\";\nimport { computeDomain } from \"../../common/entity/compute_domain\";\n/*\n * @appliesMixin EventsMixin\n * @appliesMixin LocalizeMixin\n */\nexport class HuiNotificationDrawer extends EventsMixin(\n  LocalizeMixin(PolymerElement)\n) {\n  static get template() {\n    return html`\n    <style include=\"paper-material-styles\">\n      app-toolbar {\n        color: var(--primary-text-color);\n        border-bottom: 1px solid var(--divider-color);\n        background-color: var(--primary-background-color);\n        min-height: 64px;\n        width: calc(100% - 32px);\n      }\n\n      .notifications {\n        overflow-y: auto;\n        padding-top: 16px;\n        height: calc(100% - 65px);\n        box-sizing: border-box;\n        background-color: var(--primary-background-color);\n        color: var(--primary-text-color);\n      }\n\n      .notification {\n        padding: 0 16px 16px;\n      }\n\n      .empty {\n        padding: 16px;\n        text-align: center;\n      }\n    </style>\n    <app-drawer id='drawer' opened=\"{{open}}\" disable-swipe align=\"start\">\n      <app-toolbar>\n        <div main-title>[[localize('ui.notification_drawer.title')]]</div>\n        <ha-paper-icon-button-prev on-click=\"_closeDrawer\"></paper-icon-button>\n      </app-toolbar>\n      <div class=\"notifications\">\n        <template is=\"dom-if\" if=\"[[!_empty(notifications)]]\">\n          <dom-repeat items=\"[[notifications]]\">\n            <template>\n              <div class=\"notification\">\n                <notification-item hass=\"[[hass]]\" notification=\"[[item]]\"></notification-item>\n              </div>\n            </template>\n          </dom-repeat>\n        </template>\n        <template is=\"dom-if\" if=\"[[_empty(notifications)]]\">\n          <div class=\"empty\">[[localize('ui.notification_drawer.empty')]]<div>\n        </template>\n      </div>\n    </app-drawer>\n    `;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      open: {\n        type: Boolean,\n        observer: \"_openChanged\",\n      },\n      notifications: {\n        type: Array,\n        computed: \"_computeNotifications(open, hass, _notificationsBackend)\",\n      },\n      _notificationsBackend: {\n        type: Array,\n        value: [],\n      },\n    };\n  }\n\n  ready() {\n    super.ready();\n    window.addEventListener(\"location-changed\", () => {\n      // close drawer when we navigate away.\n      if (this.open) {\n        this.open = false;\n      }\n    });\n  }\n\n  _closeDrawer(ev) {\n    ev.stopPropagation();\n    this.open = false;\n  }\n\n  _empty(notifications) {\n    return notifications.length === 0;\n  }\n\n  _openChanged(open) {\n    if (open) {\n      // Render closed then animate open\n      this._unsubNotifications = subscribeNotifications(\n        this.hass.connection,\n        (notifications) => {\n          this._notificationsBackend = notifications;\n        }\n      );\n    } else if (this._unsubNotifications) {\n      this._unsubNotifications();\n      this._unsubNotifications = undefined;\n    }\n  }\n\n  _computeNotifications(open, hass, notificationsBackend) {\n    if (!open) {\n      return [];\n    }\n\n    const configuratorEntities = Object.keys(hass.states)\n      .filter((entityId) => computeDomain(entityId) === \"configurator\")\n      .map((entityId) => hass.states[entityId]);\n\n    return notificationsBackend.concat(configuratorEntities);\n  }\n\n  showDialog({ narrow }) {\n    this.style.setProperty(\n      \"--app-drawer-width\",\n      narrow ? window.innerWidth + \"px\" : \"500px\"\n    );\n    this.$.drawer.open();\n  }\n}\ncustomElements.define(\"notification-drawer\", HuiNotificationDrawer);\n"],"sourceRoot":""}